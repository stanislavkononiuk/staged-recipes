{% set name = "pyrfa" %}
{% set version = "8.5.3" %}
{% set fn_base = "{}-{}-cp{}-none".format(name, version, CONDA_PY) %}
{% set fn_win = "{}-win_amd64.whl".format(fn_base) %}
{% set fn_linux = "{}-manylinux1_x86_64.whl".format(fn_base) %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ fn_win }}     # [win64]
  fn: {{ fn_linux }}   # [linux64]

  url: https://pypi.io/packages/93/bc/59b140270c7260f7bd01e20ad142351e2d9e38c03406e54582b70107089a/{{ fn_win }}    # [py==36 and win64]
  sha256: af3731272c75f28919f735a72c31b11f290f6355a2bd98edb56bbe6a1edce2d1                                         # [py==36 and win64]

  url: https://pypi.io/packages/a0/dd/dc1d5abe450d4e3496574d37bb9f6e061fa2fb8d1f892b8b7e1c7197f5b4/{{ fn_linux }}  # [py==36 and linux64]
  sha256: 2109d0b7f64cd76c7ad1b0e775dbfa4da7a3ac267379e4f637e0d5061dfd4f66                                         # [py==36 and linux64]

  url: https://pypi.io/packages/93/77/8b1c6d3fc68c7fd36c8e2d91af7a2af63dc06f3aac779b08d86363f8919a/{{ fn_win }}    # [py==37 and win64]
  sha256: f148c1cbc2e0b47ca66b731a4154af8c901ed3209732c8704797348b70c80b88                                         # [py==37 and win64]

  url: https://pypi.io/packages/56/7b/585866879ea7cdc83330c88142f17efff61a5819d8a4b2d9855398e8c2f1/{{ fn_linux }}  # [py==37 and linux64]
  sha256: 49198873d6a057c76c62f59d09104dfc93146084c41b73850211943dfd16cde2                                         # [py==37 and linux64]
  
build:
  number: 0
  skip: True # [not win64 and not linux64]
  script: pip install --no-deps {{ fn_win }}      # [win64]
  script: pip install --no-deps {{ fn_linux }}    # [linux64]

requirements:
  build:
    - python
    - pip
  run:
    - python

test:
  imports:
    - pyrfa

about:
  home: http://devcartel.com/pyrfa
  license: MIT
  license_family: MIT
  license_file: LICENSE.txt
  summary: 'Python API for Thomson Reuters Enterprise Platform'
  description: |
    PyRFA is a Python API for accessing Thomson Reuters market data feeds known as Elektron, Thomson Reuters Enterprise Platform for Real-time (TREP-RT) or legacy RMDS.
    It supports subscription and publication of market data using OMM data message model.

extra:
  recipe-maintainers:
    - pmgrafe
