{% set name = "gwvet" %}
{% set version = "0.1.1" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: "https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz"
  sha256: "0a136f355c3343aa2318d366fe10936b0d113e56bc8c3012d6a771ab533a59f6"

build:
  number: 0
  skip: true  # [win or py<36]
  script: "{{ PYTHON }} -m pip install . --no-deps -vv"

requirements:
  host:
    - pip
    - python
    - setuptools
  run:
    - astropy >=1.2.1
    - decorator
    - dqsegdb
    - gwdetchar >=1.0.0
    - gwpy >=1.0.0
    - gwsumm >=1.0.1
    - gwtrigfind
    - lscsoft-glue >=1.60.0
    - markuppy
    - matplotlib-base >=2.0.0
    - numpy >=1.10
    - python
    - scipy >=1.2.0

test:
  imports:
    - gwvet
    - gwvet.cli
    - gwvet.etg
    - gwvet.metric
    - gwvet.segments
    - gwvet.tabs
    - gwvet.triggers
  commands:
    # check scripts run ok
    - gwvet --help
    - gwvet-hug --help
    - gwvet-vdf --help

about:
  home: "https://github.com/gwpy/vet"
  license: "GPL-3.0-or-later"
  license_family: "GPL"
  license_file: "LICENSE"
  summary: "Gravitational-wave Veto Evaluation and Testing suite"
  description: |
    GWVET is an extension to the python toolbox GWSumm, used by the LIGO
    Scientific Collaboration to review and evaluate data-quality veto products

extra:
  recipe-maintainers:
    - alurban
