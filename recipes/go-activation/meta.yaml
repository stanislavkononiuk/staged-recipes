{% if version is undefined %}
{% set version = "1.16.7" %}
{% endif %}

{% if cross_target_platform is undefined %}
{% set cross_target_platform = "foo" %}
{% endif %}

package:
  name: go-{{ go_variant_str }}_{{ cross_target_platform }}
  version: {{ version }}

build:
  number: 1
  run_exports:          # [cross_target_platform == "osx-64"]
    strong_constrains:  # [cross_target_platform == "osx-64"]
      - __osx>=10.12    # [cross_target_platform == "osx-64"]

requirements:
  build:
    - sed  # [osx]
  run:
    - go {{ version }}.*
    - _go_select =={{ go_variant_ver }}={{ go_variant_str }}

about:
  home: http://golang.org
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE.txt
  summary: The Go ({{ go_variant_str }}) compiler activation scripts for conda-build.
  description: |
    This package enables the CONDA_GO_COMPILER environment variable. 
    This variable is used by conda-forge's patched GoLang compiler to 
    set conda-aware GOBIN and GOPATH default values. These default 
    values are ignored if GOBIN and GOPATH environment variables 
    are set independently by the user.

    Futhermore, this package set the correct GOARCH and GOOS
    environment variables to enable cross-compilation.
  doc_url: https://golang.org/doc
  dev_url: https://go.googlesource.com/go

extra:
  feedstock-name: go-activation
  recipe-maintainers:
    - conda-forge/go
