{% set name = "mosquitto" %}
{% set version = "2.0.14" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://mosquitto.org/files/source/{{ name }}-{{ version }}.tar.gz
  sha256: d0dde8fdb12caf6e2426b4f28081919a2fce3448773bdb8af0d3cd5fe5776925

build:
  number: 0
  skip: True  # [osx]

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cmake
    - make

  host:
    - openssl
    - libxslt


test:
  commands:
    - mosquitto_sub --help || true  # [not win]

about:
  home: https://mosquitto.org/
  license: EPL-2.0
  license_file: epl-v20
  summary: 'An open source message broker that implements the MQTT protocol.'
  description: |
    Eclipse Mosquitto is an open source (EPL/EDL licensed) message broker that
    implements the MQTT protocol versions 5.0, 3.1.1 and 3.1.
    Mosquitto is lightweight and is suitable for use on all devices from low
    power single board computers to full servers.

    The MQTT protocol provides a lightweight method of carrying out messaging
    using a publish/subscribe model. This makes it suitable for Internet of
    Things messaging such as with low power sensors or mobile devices such as phones,
    embedded computers or microcontrollers.

    The Mosquitto project also provides a C library for implementing MQTT clients,
    and the very popular mosquitto_pub and mosquitto_sub command line MQTT clients.

    Mosquitto is part of the Eclipse Foundation, is an iot.eclipse.org project and
    is sponsored by cedalo.com.

  doc_url: https://mosquitto.org/documentation/
  dev_url: https://github.com/eclipse/mosquitto

extra:
  recipe-maintainers:
    - nerohmot
