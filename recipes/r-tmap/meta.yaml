{% set version = '2.2' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-tmap
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/tmap_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/tmap/tmap_{{ version }}.tar.gz
  sha256: 7d9b8540351381c290597e19f68c76d5adf845f6c21962cbbf9fd85879a57737

build:
  merge_build_host: True  # [win]
  number: 0
  noarch: generic
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{posix}}zip               # [win]
  host:
    - r-base
    - r-rcolorbrewer
    - r-classint
    - r-htmltools
    - r-htmlwidgets
    - r-leaflet >=2.0.2
    - r-mapview
    - r-raster >=2.7_15
    - r-sf >=0.7_1
    - r-tmaptools >=2.0_1
    - r-units >=0.6_1
    - r-viridislite
  run:
    - r-base
    - r-rcolorbrewer
    - r-classint
    - r-htmltools
    - r-htmlwidgets
    - r-leaflet >=2.0.2
    - r-mapview
    - r-raster >=2.7_15
    - r-sf >=0.7_1
    - r-tmaptools >=2.0_1
    - r-units >=0.6_1
    - r-viridislite

test:
  commands:
    - $R -e "library('tmap')"           # [not win]
    - "\"%R%\" -e \"library('tmap')\""  # [win]
    
about:
  home: https://github.com/mtennekes/tmap
  license: GPL-3
  summary: Thematic maps are geographical maps in which spatial data distributions are visualized.
    This package offers a flexible, layer-based, and easy to use approach to create
    thematic maps, such as choropleths and bubble maps.
  license_family: GPL3
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'
  description: Set of tools for reading and processing spatial data. The aim is to supply the workflow
    to create thematic maps. This package also facilitates 'tmap', the package for visualizing
    thematic maps.
  doc_url: https://cran.r-project.org/web/packages/tmap/tmap.pdf
  dev_url: https://github.com/mtennekes/tmap
  
extra:
  recipe-maintainers:
    - conda-forge/r
    - agcopenhaver
