{% set version = '1.0.4' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-syuzhet
  version: {{ version|replace("-", "_") }}

source:
  fn: syuzhet_{{ version }}.tar.gz
  url:
    - https://cran.r-project.org/src/contrib/syuzhet_{{ version }}.tar.gz
    - https://cran.r-project.org/src/contrib/Archive/syuzhet/syuzhet_{{ version }}.tar.gz
  sha256: f15927958d6bb6e3226705d5188f90516dac4c68a09429f0fc079e7d34cdc471

build:
  number: 0
  skip: true  # [win32]

  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - r-base
    - r-nlp
    - r-dplyr
    - r-dtt
    - r-textshape >=1.3.0
    - r-tidyr
    - r-zoo

  run:
    - r-base
    - r-nlp
    - r-dplyr
    - r-dtt
    - r-textshape >=1.3.0
    - r-tidyr
    - r-zoo

test:
  commands:
    - $R -e "library('syuzhet')"  # [not win]
    - "\"%R%\" -e \"library('syuzhet')\""  # [win]

about:
  home: https://cran.r-project.org/package=syuzhet
  license: GPL-3
  summary: Extracts sentiment and sentiment-derived plot arcs from text using a variety of sentiment
    dictionaries conveniently packaged for consumption by R users.  Implemented dictionaries
    include "syuzhet" (default) developed in the Nebraska Literary Lab "afinn" developed
    by Finn {\AA}rup Nielsen, "bing" developed by Minqing Hu and Bing Liu, and "nrc"
    developed by Mohammad, Saif M. and Turney, Peter D. Applicable references are available
    in README.md and in the documentation for the "get_sentiment" function.  The package
    also provides a hack for implementing Stanford's coreNLP sentiment parser. The package
    provides several methods for plot arc normalization.
  license_family: GPL3
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'  # [unix]
  license_file: '{{ environ["PREFIX"] }}\R\share\licenses\GPL-3'  # [win]

extra:
  recipe-maintainers:
    - johanneskoester
    - bgruening
    - daler
    - jdblischak
    - cbrueffer
    - CurtLH
