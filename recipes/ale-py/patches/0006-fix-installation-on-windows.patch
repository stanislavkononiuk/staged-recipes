From 0db188ee2de56c99ec858e25f62b7f522919dec7 Mon Sep 17 00:00:00 2001
From: Tobias Fischer <info@tobiasfischer.info>
Date: Wed, 7 Dec 2022 19:40:22 +1000
Subject: [PATCH 6/6] fix installation on windows

---
 src/CMakeLists.txt        |  2 +-
 src/python/CMakeLists.txt | 13 -------------
 2 files changed, 1 insertion(+), 14 deletions(-)

diff --git a/src/CMakeLists.txt b/src/CMakeLists.txt
index a4de95c..ea89e7e 100644
--- a/src/CMakeLists.txt
+++ b/src/CMakeLists.txt
@@ -66,7 +66,7 @@ if (BUILD_PYTHON_LIB)
 endif()
 
 # Install cpp-lib and CMake config & pkg-config
-if (UNIX AND BUILD_CPP_LIB)
+if (BUILD_CPP_LIB)
   include(GNUInstallDirs)
   include(CMakePackageConfigHelpers)
 
diff --git a/src/python/CMakeLists.txt b/src/python/CMakeLists.txt
index 6552462..c24b15f 100644
--- a/src/python/CMakeLists.txt
+++ b/src/python/CMakeLists.txt
@@ -15,19 +15,6 @@ set_target_properties(ale-py PROPERTIES
     PREFIX "${PYTHON_MODULE_PREFIX}"
     SUFFIX "${PYTHON_MODULE_EXTENSION}")
 
-# To test ale-py we need to make sure that all generated resources
-# are in CMAKE_CURRENT_BINARY_DIR, i.e., build/src/python.
-# MSVC adds the config to the path, i.e., Debug/Release.
-# There's a hack in CMake where if a generator expression is used
-# this Debug/Release suffix won't be added. We can append a null generator
-# expression to the path to force all outputs CMAKE_CURRENT_BINARY_DIR.
-if (MSVC)
-  set_target_properties(ale-py PROPERTIES
-    LIBRARY_OUTPUT_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}$<0:>
-    RUNTIME_OUTPUT_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}$<0:>
-    ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}$<0:>)
-endif()
-
 # Copy over the Python source files
 file(COPY ${CMAKE_CURRENT_SOURCE_DIR}/
      DESTINATION ${CMAKE_CURRENT_BINARY_DIR}
-- 
2.38.1.windows.1

