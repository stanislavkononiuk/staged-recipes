{% set name = "metis" %}
{% set version = "5.1.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: metis-5.1.0.tar.gz
  md5: 5465e67079419a69e0116de24fce58fe
  url: http://glaros.dtc.umn.edu/gkhome/fetch/sw/metis/metis-5.1.0.tar.gz

build:
  skip: true  # [win]
  number: 0
  binary_relocation: true

requirements:
  build:
    - cmake
    - toolchain

test:
  files:
    - 4elt.graph
    - README
    - copter2.graph
    - mdual.graph
    - metis.mesh
    - test.mgraph
  commands:
    - graphchk
    - cmpfillin -h
    - gpmetis -h
    - m2gmetis -h
    - ndmetis -h
    - mpmetis -h
		- kmetis 4elt.graph 40
		- onmetis 4elt.graph
		- pmetis test.mgraph 2
		- kmetis test.mgraph 2
		- kmetis test.mgraph 5
		- partnmesh metis.mesh 10
		- partdmesh metis.mesh 10
		- mesh2dual metis.mesh
		- kmetis metis.mesh.dgraph 10

about:
  home: http://glaros.dtc.umn.edu/gkhome/metis/metis/overview
  license: GPLv3
  license_file: LICENSE.txt
  summary: 'METIS - Serial Graph Partitioning and Fill-reducing Matrix Ordering'
  description: |
    METIS is a set of serial programs for partitioning graphs, partitioning 
    finite element meshes, and producing fill reducing orderings for sparse 
    matrices. The algorithms implemented in METIS are based on the multilevel 
    recursive-bisection, multilevel k-way, and multi-constraint partitioning 
    schemes developed in our lab.
  doc_url: http://glaros.dtc.umn.edu/gkhome/metis/metis/faq

extra:
  recipe-maintainers:
    - basnijholt
