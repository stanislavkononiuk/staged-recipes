{% set name = "neural-compressor" %}
{% set version = "1.13" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/neural_compressor-{{ version }}.tar.gz
  sha256: 7dfa6030a2e0981766ab77ad411f894a9f9c3abefdf298709d21afaf70544c1a

build:
  number: 0
  skip: true  # [py2k]
  script: {{ PYTHON }} -m pip install . -vv

requirements:
  build:
    - {{ compiler('c') }}
  host:
    - pip
    - python
  run:
    - python
    - cryptography
    - cython
    - hyperopt
    - numpy
    - opencv
    - pandas
    - pillow
    - prettytable
    - psutil
    - py-cpuinfo
    - pycocotools
    - pyyaml
    - requests
    - schema
    - scikit-learn
    - sigopt

test:
  imports:
    - neural_coder
    - neural_compressor
  commands:
    - pip check
  requires:
    - pip

about:
  home: https://github.com/intel/neural-compressor
  summary: Repository of IntelÂ® Neural Compressor
  license: Apache-2.0
  license_file:
    - LICENSE
  description: |
    An open-source Python library supporting popular model compression techniques 
    on all mainstream deep learning frameworks (TensorFlow, PyTorch, ONNX Runtime, 
    and MXNet)

    PyPI: [https://pypi.org/project/neural-compressor/](https://pypi.org/project/neural-compressor/)

  doc_url: https://intel.github.io/neural-compressor
  dev_url: https://github.com/intel/neural-compressor

extra:
  recipe-maintainers:
    - sugatoray
