{% set name = "geant4" %}
{% set major_version = "10" %}
{% set minor_version = "5" %}
{% set patch_version = "0" %}
{% set release_url = "http://geant4-data.web.cern.ch/geant4-data/releases" %}

package:
    name: {{ name|lower }}
    version: {{ major_version }}.{{ minor_version }}.{{ patch_version }}

source:
{%- if patch_version == "0" %}
    url: {{ release_url }}/{{ name }}.{{ major_version }}.{{ minor_version.rjust(2, "0") }}.tar.gz
{%- else %}
    url: {{ release_url }}/{{ name }}.{{ major_version }}.{{ minor_version.rjust(2, "0") }}.p{{ patch_version.rjust(2, "0") }}.tar.gz
{%- endif %}
    sha256: 2a86499d8327abc68456e5d7fc0303824e5704322291b331857cf4042286656e

build:
    number: 0
    skip: True  # [win]

requirements:
    build:
        - {{ compiler('c') }}
        - {{ compiler('cxx') }}
        - cmake
        - make  # [unix]
        - sed
    host:
        - expat
        - xerces-c
        - zlib
    run:
        - expat
        - xerces-c
        - zlib

test:
    requires:
        - cmake
        - make  # [unix]
        - {{ compiler('c') }}
        - {{ compiler('cxx') }}
    commands:
        - geant4-config --version

about:
    summary: 'Geant4 is a toolkit for the simulation of the passage of particles through matter.'
    dev_url: https://github.com/Geant4/geant4
    description: |
        Geant4 is a toolkit for the simulation of the passage of particles through
        matter. Its areas of application include high energy, nuclear and
        accelerator physics, as well as studies in medical and space science. The
        three main reference papers for Geant4 are published in Nuclear Instruments
        and Methods in Physics Research [A 506 (2003) 250-303](http://www.sciencedirect.com/science/article/pii/S0168900203013688),
        IEEE Transactions on Nuclear Science [53 No. 1 (2006) 270-278](https://ieeexplore.ieee.org/xpls/abs_all.jsp?isnumber=33833&amp;arnumber=1610988&amp;count=33&amp;index=7)
        and Nuclear Instruments and Methods in Physics Research [A 835 (2016) 186-225](http://www.sciencedirect.com/science/article/pii/S0168900216306957).
    doc_url: https://geant4.web.cern.ch/support
    home: https://geant4.web.cern.ch/
    license: Geant4
    license_file: LICENSE

extra:
    recipe-maintainers:
        - tschoonj
        - chrisburr
