{% set name = "mdsplus" %}
{% set version = "7.7.9" %}
{% set sha256 = "5b54e4f7bb00afee7ca9ad0fd7f5fda69afe39c817f68c7739939b1415f05008" %}
package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: https://github.com/MDSplus/{{ name }}/archive/stable_release-{{ version | replace('.','-') }}.tar.gz
  sha256: {{ sha256 }}
  patches:
    - configure.patch.osx  # [osx]
    - configure.patch.linux  # [linux]
    - mdsdcl_show_version.c.patch
    - Makefile.in.patch
    - mdsdcl_Makefile.in.patch
build:
  number: 0
  skip: True  # [win or py3k]

requirements:
  build:
    - freetds 1.0.44
    - libxml2 2.9.5
    - ncurses 5.9
    - openmotif 2.3.7
    - openmotif-dev 2.3.7
    - python
    - readline 7.0
    - setuptools
    - toolchain 2.1.2
    - unixodbc 2.3.4
    - xorg-libx11 1.6.4
    - xorg-libxt 1.1.5
  run:
    - libxml2 2.9.5
    - freetds 1.0.44
    - readline 7.0
    - ncurses 5.9
    - unixodbc 2.3.4
    - pyodbc 4.0.17
    - libiconv 1.15
    - python
    - numpy

test:
  imports:
    - MDSplus

about:
  home: http://www.mdsplus.org/
  license: MIT
  license_family: MIT
  license_file: MDSplus-License.txt
  summary: MDSplus data management system
  description: |
    MDSplus is a set of software tools for data acquisition and
    storage and a methodology for management of complex
    scientific data.

    MDSplus allows all data from an experiment or simulation
    code to be stored into a single, self-descriptive,
    hierarchical structure. The system was designed to enable
    users to easily construct complete and coherent data sets.

    The MDSplus programming interface contains only a few basic
    commands, simplifyng data access even into complex
    structures. Using the client/server model, data at remote
    sites can be read or written without file transfers.
    MDSplus includes x-windows and java tools for viewing data
    or for modifying or viewing the underlying structures.
  dev_url: https://github.com/MDSplus/mdsplus

extra:
  recipe-maintainers:
    - smithsp
