{% set version = "1.0.1" %}

package:
  name: papilo
  version: {{ version }}

source:
  url: https://github.com/lgottwald/PaPILO/archive/v{{ version }}.tar.gz
  sha256: ebc84221fde4da89de4df790987eefd4cb1874c513067d0de3a693a2dae56f04
  patches:
    # Missing boost include as of v.1.0.1 https://github.com/lgottwald/PaPILO/issues/31
    - Fix-Boost-multiprecision-Clang.patch

build:
  number: 0
  skip: True  # [win]

requirements:
  build:
    - {{ compiler('fortran') }}
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cmake >=3.14
    - make
  host:
    - gmp
    - libgcc-ng  # [linux] Quadmath
    - tbb-devel
    - libblas
    - boost-cpp
    - pthread-stubs

test:
  requires:
    - {{ compiler('fortran') }}
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cmake >=3.14
    - make
    - tbb-devel
    - libblas
    - boost-cpp

about:
  home: https://github.com/lgottwald/PaPILO
  license: LGPL-3.0
  license_file: COPYING.LESSER
  summary: Parallel Presolve for Integer and Linear Optimization

extra:
  recipe-maintainers:
    - AntoinePrv
