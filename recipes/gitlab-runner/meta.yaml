{% set name = "gitlab-runner" %}
{% set version = "12.1.0" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  git_url: "https://gitlab.com/gitlab-org/gitlab-runner.git"
  git_tag: "v{{ version }}"
  folder: "src/gitlab.com/gitlab-org/{{ name }}"

build:
  number: 0

requirements:
  host:
    - coreutils  # [unix]
    - m2-coreutils  # [win]
    - git
    - go

test:
  commands:
    - gitlab-runner --version

about:
  summary: "The official GitLab CI runner written in Go"
  license: "MIT"
  license_family: "MIT"
  license_file: "src/gitlab.com/gitlab-org/{{ name }}/LICENSE"
  home: "https://gitlab.com/gitlab-org/gitlab-runner"
  dev_url: "https://gitlab.com/gitlab-org/gitlab-runner"
  doc_url: "https://docs.gitlab.com/runner/"

extra:
  recipe-maintainers:
    - duncanmmacleod
