From 777c544e898af397c52bf39cf8d31d52e94e8155 Mon Sep 17 00:00:00 2001
From: Julien Schueller <schueller@phimeca.com>
Date: Wed, 25 Oct 2017 09:41:42 +0200
Subject: [PATCH] Read version in setup

---
 pyautogui/__init__.py | 2 +-
 pyautogui/_version.py | 2 ++
 setup.py              | 9 +++++++--
 3 files changed, 10 insertions(+), 3 deletions(-)
 create mode 100644 pyautogui/_version.py

diff --git a/pyautogui/__init__.py b/pyautogui/__init__.py
index dc054a0..550fcee 100644
--- a/pyautogui/__init__.py
+++ b/pyautogui/__init__.py
@@ -30,7 +30,7 @@ You will need PIL/Pillow to use the screenshot features.
 from __future__ import absolute_import, division, print_function
 
 
-__version__ = '0.9.36'
+from ._version import __version__
 
 import collections
 import sys
diff --git a/pyautogui/_version.py b/pyautogui/_version.py
new file mode 100644
index 0000000..d311d67
--- /dev/null
+++ b/pyautogui/_version.py
@@ -0,0 +1,2 @@
+__version__ = '0.9.36'
+
diff --git a/setup.py b/setup.py
index 98d52cb..4bd9669 100644
--- a/setup.py
+++ b/setup.py
@@ -1,9 +1,14 @@
 from setuptools import setup
 
 
+with open('pyautogui/_version.py') as fid:
+    for line in fid:
+        if line.startswith('__version__'):
+            version = line.strip().split()[-1][1:-1]
+
 setup(
     name='PyAutoGUI',
-    version=__import__('pyautogui').__version__,
+    version=version,
     url='https://github.com/asweigart/pyautogui',
     author='Al Sweigart',
     author_email='al@inventwithpython.com',
@@ -33,4 +38,4 @@ setup(
         'Programming Language :: Python :: 3.3',
         'Programming Language :: Python :: 3.4'
     ],
-)
\ No newline at end of file
+)
-- 
2.7.4

