{% set version = "1.60.0" %}
{% set filename = "boost_%s.tar.bz2" % version.replace(".", "_") %}

package:
  name: boost
  version: {{ version }}

source:
  fn:  {{ filename }}
  url: http://sourceforge.net/projects/boost/files/boost/{{ version }}/{{ filename }}
  md5: 65a840e1a0b13a558ff19eeb2c4f0cbe

build:
  features:
    - vc9               # [win and py27]
    - vc10              # [win and py34]
    - vc14              # [win and py35]

requirements:
  build:
    - gcc               # [linux]
    - python
    - icu               # [unix]
    - bzip2             # [unix]
    - zlib

  run:
    - libgcc            # [linux]
    - python
    - icu               # [unix]
    - zlib

test:
  commands:
    # Verify static libraries.
    - test -f $PREFIX/lib/libboost_chrono.a                   # [unix]
    - test -f $PREFIX/lib/libboost_exception.a                # [unix]
    - test -f $PREFIX/lib/libboost_system.a                   # [unix]
    - test -f $PREFIX/lib/libboost_test_exec_monitor.a        # [unix]
    - test -f $PREFIX/lib/libboost_timer.a                    # [unix]

    # Verify dynamic libraries.
    - test -f $PREFIX/lib/libboost_atomic.dylib               # [osx]
    - test -f $PREFIX/lib/libboost_chrono.dylib               # [osx]
    - test -f $PREFIX/lib/libboost_container.dylib            # [osx]
    - test -f $PREFIX/lib/libboost_context.dylib              # [osx]
    - test -f $PREFIX/lib/libboost_coroutine.dylib            # [osx]
    - test -f $PREFIX/lib/libboost_date_time.dylib            # [osx]
    - test -f $PREFIX/lib/libboost_filesystem.dylib           # [osx]
    - test -f $PREFIX/lib/libboost_graph.dylib                # [osx]
    - test -f $PREFIX/lib/libboost_iostreams.dylib            # [osx]
    - test -f $PREFIX/lib/libboost_locale.dylib               # [osx]
    - test -f $PREFIX/lib/libboost_log.dylib                  # [osx]
    - test -f $PREFIX/lib/libboost_log_setup.dylib            # [osx]
    - test -f $PREFIX/lib/libboost_math_c99.dylib             # [osx]
    - test -f $PREFIX/lib/libboost_math_c99f.dylib            # [osx]
    - test -f $PREFIX/lib/libboost_math_c99l.dylib            # [osx]
    - test -f $PREFIX/lib/libboost_math_tr1.dylib             # [osx]
    - test -f $PREFIX/lib/libboost_math_tr1f.dylib            # [osx]
    - test -f $PREFIX/lib/libboost_math_tr1l.dylib            # [osx]
    - test -f $PREFIX/lib/libboost_prg_exec_monitor.dylib     # [osx]
    - test -f $PREFIX/lib/libboost_program_options.dylib      # [osx]
    - test -f $PREFIX/lib/libboost_python.dylib               # [osx]
    - test -f $PREFIX/lib/libboost_random.dylib               # [osx]
    - test -f $PREFIX/lib/libboost_regex.dylib                # [osx]
    - test -f $PREFIX/lib/libboost_serialization.dylib        # [osx]
    - test -f $PREFIX/lib/libboost_signals.dylib              # [osx]
    - test -f $PREFIX/lib/libboost_system.dylib               # [osx]
    - test -f $PREFIX/lib/libboost_thread.dylib               # [osx]
    - test -f $PREFIX/lib/libboost_timer.dylib                # [osx]
    - test -f $PREFIX/lib/libboost_type_erasure.dylib         # [osx]
    - test -f $PREFIX/lib/libboost_unit_test_framework.dylib  # [osx]
    - test -f $PREFIX/lib/libboost_wave.dylib                 # [osx]
    - test -f $PREFIX/lib/libboost_wserialization.dylib       # [osx]

    # Verify shared object.
    - test -f $PREFIX/lib/libboost_atomic.so                  # [linux]
    - test -f $PREFIX/lib/libboost_chrono.so                  # [linux]
    - test -f $PREFIX/lib/libboost_container.so               # [linux]
    - test -f $PREFIX/lib/libboost_context.so                 # [linux]
    - test -f $PREFIX/lib/libboost_coroutine.so               # [linux]
    - test -f $PREFIX/lib/libboost_date_time.so               # [linux]
    - test -f $PREFIX/lib/libboost_filesystem.so              # [linux]
    - test -f $PREFIX/lib/libboost_graph.so                   # [linux]
    - test -f $PREFIX/lib/libboost_iostreams.so               # [linux]
    - test -f $PREFIX/lib/libboost_locale.so                  # [linux]
    - test -f $PREFIX/lib/libboost_log.so                     # [linux]
    - test -f $PREFIX/lib/libboost_log_setup.so               # [linux]
    - test -f $PREFIX/lib/libboost_math_c99.so                # [linux]
    - test -f $PREFIX/lib/libboost_math_c99f.so               # [linux]
    - test -f $PREFIX/lib/libboost_math_c99l.so               # [linux]
    - test -f $PREFIX/lib/libboost_math_tr1.so                # [linux]
    - test -f $PREFIX/lib/libboost_math_tr1f.so               # [linux]
    - test -f $PREFIX/lib/libboost_math_tr1l.so               # [linux]
    - test -f $PREFIX/lib/libboost_prg_exec_monitor.so        # [linux]
    - test -f $PREFIX/lib/libboost_program_options.so         # [linux]
    - test -f $PREFIX/lib/libboost_python.so                  # [linux]
    - test -f $PREFIX/lib/libboost_random.so                  # [linux]
    - test -f $PREFIX/lib/libboost_regex.so                   # [linux]
    - test -f $PREFIX/lib/libboost_serialization.so           # [linux]
    - test -f $PREFIX/lib/libboost_signals.so                 # [linux]
    - test -f $PREFIX/lib/libboost_system.so                  # [linux]
    - test -f $PREFIX/lib/libboost_thread.so                  # [linux]
    - test -f $PREFIX/lib/libboost_timer.so                   # [linux]
    - test -f $PREFIX/lib/libboost_type_erasure.so            # [linux]
    - test -f $PREFIX/lib/libboost_unit_test_framework.so     # [linux]
    - test -f $PREFIX/lib/libboost_wave.so                    # [linux]
    - test -f $PREFIX/lib/libboost_wserialization.so          # [linux]

about:
  home: http://www.boost.org/
  license: Boost-1.0
  summary: Free peer-reviewed portable C++ source libraries.

extra:
  recipe-maintainers:
    - ccordoba12
    - jakirkham
    - msarahan
