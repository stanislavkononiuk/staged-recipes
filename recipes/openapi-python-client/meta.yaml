{% set name = "openapi-python-client" %}
{% set version = "0.10.3" %}


package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/openapi-python-client-{{ version }}.tar.gz
  sha256: e99c01d5d69329697e0b49623184816d42043469a188384fa743faecbeb0f0e4

build:
  number: 0
  skip: true   # [py>=40 or py2k]
  entry_points:
    - openapi-python-client = openapi_python_client.cli:app
  script: {{ PYTHON }} -m pip install . -vv

requirements:
  host:
    - pip
    - poetry
    - python
  run:
    - attrs >=21.0.0,<22.0.0
    - autoflake >=1.4,<2.0
    - black
    - colorama >=0.4.3,<0.5.0  # [win]
    - httpx >=0.15.4,<0.19.0
    - importlib_metadata >=2.0.0,<3.0.0  # [py<38]
    - isort >=5.0.5,<6.0.0
    - jinja2 >=3.0.0,<4.0.0
    - pydantic >=1.6.1,<2.0.0
    - python
    - python-dateutil >=2.8.1,<3.0.0
    - pyyaml >=5.3.1,<6.0.0
    - shellingham >=1.3.2,<2.0.0
    - typer >=0.3,<0.4
    - typing-extensions  # [py<38]

test:
  imports:
    - openapi_python_client
    - openapi_python_client.parser
  commands:
    - pip check
    - openapi-python-client --help
  requires:
    - pip

about:
  home: https://github.com/triaxtec/openapi-python-client
  summary: Generate modern Python clients from OpenAPI
  license: MIT
  license_file: LICENSE

extra:
  recipe-maintainers:
    - asford
