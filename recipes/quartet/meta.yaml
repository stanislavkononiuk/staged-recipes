{% set name = "quartet" %}
{% set version = "1.0" %}
package:
  name: {{ name|lower }}
  version: {{ version }}
source:
  url: https://github.com/ngodber/quartet/archive/refs/tags/v{{ version }}.tar.gz
  sha256: eaeebc506d743d59f04bb24725df5ed01d26775f8d94c73a70ab8838151a9303

build:
  number: 0
  run_exports:
    - {{ pin_subpackage("quartet", max_pin="x.x")}}

requirements:
  build:
    - cmake
    - {{ compiler('cxx') }}
  host:
  run:

test:
  commands:
    - test -f ${PREFIX}/bin/quartet  # [unix]
    - test -f ${PREFIX}/lib/libquartet${SHLIB_EXT}  # [unix]
    - if not exist %LIBRARY_PREFIX%\bin\quartet.dll exit 1  # [win]
    - if not exist %LIBRARY_PREFIX%\lib\quartet.exe exit 1  # [win]

about:
  home: https://github.com/PyMesh/quartet
  license: ISC
  summary: 'A tetrahedral mesh generator based on Jonathon Shewchuks isosurface stuffing algorithm in combination with the A15 acute tetrahedral tile.'
  description: |
    Quartet converts a watertight triangle mesh into a high-quality uniform 
    tetrahedral mesh that closely approximates the geometry, up to the curvature 
    implied by the specified grid sampling (dx). Optionally, the tetrahedral mesh 
    can be warped to match sharp features on the input, and also improved by a 
    quality optimization pass.
  dev_url: https://github.com/PyMesh/quartet
extra:
  recipe-maintainers:
    - ngodber
