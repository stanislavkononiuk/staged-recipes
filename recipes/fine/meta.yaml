package:
  name: fine
  version: 2.2.1

source:
  url: https://github.com/FZJ-IEK3-VSA/FINE/archive/refs/heads/master.tar.gz
  sha256: 701796304599d0e9a13cafd8e5addacfb868e167755f3a110e59b2b1fe9d12ef

build:
  number: 0
  noarch: python
  script: {{ PYTHON }} -m pip install . --no-deps -vv

requirements:
  host:
    - python =3.6
    - pip
    - setuptools-git
  run:
    - python =3.6
    - libiconv
    - gdal =2.4.1
    - geopandas
    - jupyter
    - notebook
    - libpysal
    - pip
    - descartes
    - glpk
    - openpyxl
    - matplotlib-base
    - xlrd =1.2.0
    - pyomo
    - numpy
    - pandas
    - gpyopt
    - networkx
    - scipy
    - pwlf
    - pydoe
    - sphinx_rtd_theme
    - scikit-learn
    - xarray
    - statsmodels
    - seaborn
    - rasterio
    - netcdf4
    - pytest
    - pytest-cov
    - pylint
    - nbval
    - black =21.9b0 
    - tsam
    - wquantiles
    - glpk

test:
  imports:
    - FINE
    - pandas
    - numpy
  source_files:
    - examples/1node_Energy_System_Workflow/InputData
    - examples/1node_Energy_System_Workflow/getData.py
    - test/_testInputFiles
    - test/_test_pressureDrop.py
    - test/conftest.py
    - test/test_balanceLimit.py
    - test/test_commodityConversionFactors.py
    - test/test_commodityConversionFactorsTimeSeries.py
    - test/test_commodityCostTimeSeries.py
    - test/test_conversiondynamic.py
    - test/test_conversionPartLoad.py
    - test/test_DSM.py
    - test/test_full_load_hours.py
    - test/test_initTransmission.py
    - test/test_linkedQuantity.py
    - test/test_minimumDownTime.py
    - test/test_minimumPartLoad.py
    - test/test_minimumUpTime.py
    - test/test_miniSystem.py
    - test/test_operationHeatMap.py
    - test/test_QPinvest.py
    - test/test_rampDownMax.py
    - test/test_rampUpMax.py
    - test/test_segmentation.py
    - test/test_shadowCostOutput.py
    - test/test_simpleMyopic.py
    - test/test_solver.py
    - test/test_TSAmultiStage.py
    - test/test_utils.py
    - test/test_warnings.py
    - test/test_watersupply.py
  requires:
    - pytest
  commands:
    - pytest test/



about:
  home: https://github.com/FZJ-IEK3-VSA/FINE.git
  summary: The FINE python package provides a framework for modeling, optimizing and assessing energy systems. With the provided framework, systems with multiple regions, commodities and time steps can be modeled. Target of the optimization is the minimization of the total annual cost while considering technical and enviromental constraints. Besides using the full temporal resolution, an interconnected typical period storage formulation can be applied, that reduces the complexity and computational time of the model.
  license: MIT
  license_file: LICENSE.txt

extra:
  recipe-maintainers:
    - julian-belina
