{% set version = "0.0.1" %}
package:
    name: pywin32-ctypes
    version: {{ version }}

source:
    fn: pywin32-ctypes-{{ version }}.tar.gz
    url: https://github.com/enthought/pywin32-ctypes/archive/v{{ version }}.tar.gz
    sha256: f841101aef9e451d1f00a87d99586f31a3c62075b2b61bdd4ef2369e3dddc1f4
    patches:
      - imports.patch
build:
    number: 0
    script: python setup.py install --single-version-externally-managed --record=record.txt

requirements:
    build:
        - python
        - setuptools

    run:
        - python

test:
    requires:
        - pytest
    imports:
        - win32ctypes
        - win32ctypes.tests
    commands:
        - py.test {{ environ.SRC_DIR }}
        # - cd {{ environ.SRC_DIR }} && python -m unittest win32ctypes.tests
#        - cmd /v:on /.e:on /c "{{ environ.SRC_DIR }}\scripts\appveyor-test.cmd"

about:
    home: https://github.com/enthought/pywin32-ctypes
    license: BSD 3-Clause
    summary: A limited subset of pywin32 re-implemented using ctypes (or cffi)

extra:
    recipe-maintainers:
        - ericdill
        - licode
        - tacaswell
