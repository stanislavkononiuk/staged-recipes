diff --git a/setup.py b/setup.py
--- a/setup.py
+++ b/setup.py
@@ -14,10 +14,10 @@ except AttributeError:

 use_icc=False #Set to True if you compiled libsharp with icc
 if use_icc :
-    libs=['nmt','fftw3','fftw3_omp','sharp','fftpack','c_utils','chealpix','cfitsio','gsl','gslcblas','m','gomp','iomp5']
+    libs=['nmt','fftw3','fftw3_threads', 'pthread','sharp','fftpack','c_utils','chealpix','cfitsio','gsl','gslcblas','m','gomp','iomp5']
     extra=['-openmp',]
 else :
-    libs=['nmt','fftw3','fftw3_omp','sharp','fftpack','c_utils','chealpix','cfitsio','gsl','gslcblas','m','gomp']
+    libs=['nmt','fftw3','fftw3_threads', 'pthread','sharp','fftpack','c_utils','chealpix','cfitsio','gsl','gslcblas','m','gomp']
     extra=['-O4', '-fopenmp',]
