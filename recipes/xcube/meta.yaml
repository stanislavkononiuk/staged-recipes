{% set name = "xcube" %}
{% set version = "0.test.0" %}

package:
  name: "{{ name }}"
  version: "{{ version }}"

source:
  url: "https://github.com/dzelge/{{ name }}/archive/{{ version }}.tar.gz"
  #sha256: "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"

build:
  number: 0
  noarch: python
  script: "{{ PYTHON }} -m pip install . -vv"
  entry_points:
    # Put any entry points (scripts to be generated automatically) here.
    - xcube = xcube.cli.cli:main
    - xcube-gen = xcube.cli.gen:main
    - xcube-restime = xcube.cli.restime:main

requirements:
  build:
    - python
    - affine
    - blas =*=mkl
    - click
    - cmocean
    - dask
    - fiona
    - gdal
    - matplotlib
    - netcdf4
    - numba
    - numpy
    - pandas
    - pillow
    - proj4
    - pyyaml
    - rasterio
    - s3fs
    - scipy
    - setuptools
    - shapely
    - tornado
    - xarray
    - zarr
    - sphinx
    # Optional
    - cmocean
    # Testing
  run:
    - python
    - affine
    - blas =*=mkl
    - click
    - cmocean
    - dask
    - fiona
    - gdal
    - matplotlib
    - netcdf4
    - numba
    - numpy
    - pandas
    - pillow
    - proj4
    - pyyaml
    - rasterio
    - s3fs
    - scipy
    - setuptools
    - shapely
    - tornado
    - xarray
    - zarr
    - sphinx
    # Optional
    - cmocean

test:
  # Python imports
  imports:
    - xcube

  commands:
    # You can put test commands to be run here.  Use this to test that the
    # entry points work.
    - xcube --help

  requires:
    # Put any additional test requirements here.
    - pytest
    - pytest-cov

about:
  summary: "XCube"
  home: https://github.com/dcs4cop/xcube
  license: MIT
  license_file: LICENSE

extra:
  recipe-maintainers:
    - dzelge
    - forman
