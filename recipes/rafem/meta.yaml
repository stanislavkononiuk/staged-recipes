{% set version = "0.4.2" %}

package:
  name: rafem
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/r/rafem/rafem-{{ version }}.tar.gz
  sha256: 5cca579ee1919c31677eee49f0d6dc0cfe5b430bdb78212c1cc2fbcdccd1732c

build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install . --no-deps -vv"
  entry_points:
    - rafem = rafem.main:main

requirements:
  host:
    - python
    - pip
  run:
    - python
    - bmipy
    - click
    - numpy
    - matplotlib
    - pyyaml
    - scipy
    - six

test:
  imports:
    - rafem
  commands:
    - rafem --version
    - rafem --help

about:
  home: https://github.com/katmratliff/rafem
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: 'The River Avulsion and Floodplain Evolution Model'
  description: |
    The River Avulsion and Floodplain Evolution Model (RAFEM) is
    a cellular model that simulates river and floodplain morphodynamics
    over large space and timescales. Cell size is larger than the channel
    belt width, and natural levees, which maintain a bankfull elevation
    above the channel bed, exist within a river cell. The river course is
    determined using a steepest-descent methodology, and erosion and deposition
    along the river profile are modeled as a linear diffusive process. An
    avulsion occurs when the riverbed becomes super-elevated relative to
    the surrounding floodplain, but only if the new steepest-descent path
    to sea level is shorter than the prior river course. If the new path to
    sea level is not shorter, then a crevasse splay is deposited in the
    adjacent river cells. The model has been designed to couple with the
    Coastline Evolution Model through the CSDMS Basic Model Interface.
  doc_url: https://github.com/katmratliff/rafem
  dev_url: https://github.com/katmratliff/rafem

extra:
  recipe-maintainers:
    - mcflugen
