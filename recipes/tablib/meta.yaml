{% set version = "0.11.3" %}

package:
  name: tablib
  version: {{ version }}

source:
  fn: tablib-{{ version }}.tar.gz
  url: https://github.com/kennethreitz/tablib/archive/v{{ version }}.tar.gz
  sha256: f532a5359ac69d4a9e977b5ec26044c9c9a4ec7d67cf9e97cdd78ae1fb50891c

build:
  number: 0
  script: python setup.py install --single-version-externally-managed --record record.txt

requirements:
  build:
    - python
    - setuptools
  run:
    - python

test:
  imports:
    - tablib
    - tablib.formats
    - tablib.packages
    - tablib.packages.dbfpy
    - tablib.packages.odf
    - tablib.packages.omnijson
    - tablib.packages.openpyxl  # [py2k]
    - tablib.packages.openpyxl.reader  # [py2k]
    - tablib.packages.openpyxl.shared  # [py2k]
    - tablib.packages.openpyxl.writer  # [py2k]
    - tablib.packages.openpyxl3  # [py3k]
    - tablib.packages.openpyxl3.reader  # [py3k]
    - tablib.packages.openpyxl3.shared  # [py3k]
    - tablib.packages.openpyxl3.writer  # [py3k]
    - tablib.packages.unicodecsv
    - tablib.packages.xlrd  # [py2k]
    - tablib.packages.xlwt  # [py2k]
    - tablib.packages.yaml  # [py2k]
    - tablib.packages.xlrd3  # [py3k]
    - tablib.packages.xlwt3  # [py3k]
    - tablib.packages.yaml3  # [py3k]
  commands:
    - python '{{ environ["SRC_DIR"] }}/test_tablib.py'  # [not win]

about:
  home: http://python-tablib.org
  license: MIT
  license_file: LICENSE
  summary: 'Format agnostic tabular data library (XLS, JSON, YAML, CSV)'

extra:
  recipe-maintainers:
    - ocefpaf
