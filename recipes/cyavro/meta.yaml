{% set version = "0.6.1" %}

package:
  name: cyavro
  version: {{ version }}

source:
  git_url: https://github.com/MaxPoint/cyavro.git
  git_tag: {{ version }}

build:
  number: 0
  enabled: false # [not win]
  script: python setup.py install --single-version-externally-managed --record record.txt

requirements:
    build:
        - python
        - cython
        - numpy
        - libavro
        - six
        - jinja2
    run:
        - python
        - numpy
        - libavro
        - pandas >=0.16
        - filelock
        - six
        - avro

test:
    requires:
        - pytest
        - avro
        - cython
    imports:
        - cyavro
    files:
        - test/basic_types.py
        - test/from_bytes_c.py
        - test/from_bytes_c_helper.pyx
        - test/from_bytes_c_helper.pyxbld
    commands:
        - py.test *.py

about:
  home: http://github.com/MaxPoint/cyavro
  license: BSD
  summary: Fast avro reader / writer using libavro

extra:
  recipe-maintainers:
    - mariusvniekerk

