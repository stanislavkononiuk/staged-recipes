From 4d8ed1ce632ea4e86f7d3ef3a535f225451a6076 Mon Sep 17 00:00:00 2001
From: "H. Vetinari" <h.vetinari@gmx.com>
Date: Sun, 17 Jul 2022 20:17:04 +0200
Subject: [PATCH 1/2] use DLLs from conda-forge

---
 buildconfig/config_win.py | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/buildconfig/config_win.py b/buildconfig/config_win.py
index 1ea07457..0ce152b3 100644
--- a/buildconfig/config_win.py
+++ b/buildconfig/config_win.py
@@ -31,8 +31,8 @@ def get_machine_type():
 
 class Dependency(object):
     huntpaths = ['..', '..\\..', '..\\*', '..\\..\\*']
-    inc_hunt = ['include']
-    lib_hunt = ['VisualC\\SDL\\Release', 'VisualC\\Release', 'Release', 'lib']
+    inc_hunt = ['include', 'include\\SDL2']
+    lib_hunt = [os.environ['LIBRARY_LIB']]
     check_hunt_roots = True
     def __init__(self, name, wildcards, libs=None, required=0, find_header='', find_lib=''):
         if libs is None:
@@ -473,10 +473,10 @@ def setup_prebuilt_sdl2(prebuilt_dir):
 
 def main():
     machine_type = get_machine_type()
-    prebuilt_dir = 'prebuilt-%s' % machine_type
-    use_prebuilt = '-prebuilt' in sys.argv
+    prebuilt_dir = os.environ["LIBRARY_PREFIX"]
+    use_prebuilt = True
 
-    auto_download = 'PYGAME_DOWNLOAD_PREBUILT' in os.environ
+    auto_download = False
     if auto_download:
         auto_download = os.environ['PYGAME_DOWNLOAD_PREBUILT'] == '1'
 
-- 
2.37.0.windows.1

