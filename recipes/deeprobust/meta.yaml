{% set name = "deeprobust" %}
{% set version = "0.2.1" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: "https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz"
  sha256: d0aa7f439c7231275dddbf61ea2c9da8ca6c67e270fb4a1771f1ffd394a18e55

build:
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  host:
    - gensim >=3.8,
    - matplotlib >=3.1.1
    - networkx >=2.4
    - numba >=0.48.0
    - numpy >=1.17.1
    - pillow >=7.0.0
    - pip
    - python
    - scikit-image >=0.0
    - scikit_learn >=0.22.1
    - scipy >=1.3.1
    - tensorboardx >=2.0
    - texttable >=1.6.2
    - torch >=1.2.0
    - torchvision >=0.4.0
    - tqdm >=3.0
  run:
    - gensim >=3.8,
    - matplotlib >=3.1.1
    - networkx >=2.4
    - numba >=0.48.0
    - numpy >=1.17.1
    - pillow >=7.0.0
    - python
    - scikit-image >=0.0
    - scikit_learn >=0.22.1
    - scipy >=1.3.1
    - tensorboardx >=2.0
    - texttable >=1.6.2
    - torch >=1.2.0
    - torchvision >=0.4.0
    - tqdm >=3.0

test:
  imports:
    - deeprobust
    - deeprobust.graph
    - deeprobust.graph.data
    - deeprobust.graph.defense
    - deeprobust.graph.global_attack
    - deeprobust.graph.rl
    - deeprobust.graph.targeted_attack
    - deeprobust.image
    - deeprobust.image.attack
    - deeprobust.image.defense
    - deeprobust.image.netmodels

about:
  home: "https://github.com/DSE-MSU/DeepRobust"
  license: MIT
  license_family: MIT
  license_file: 
  summary: "A PyTorch library for adversarial robustness learning for image and graph data."
  doc_url: 
  dev_url: 

extra:
  recipe-maintainers:
    - ndmaxar
    - achangeo
    - oblut
    - rluria14
