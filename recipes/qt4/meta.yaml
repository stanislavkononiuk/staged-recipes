{% set version = "4.8.7" %}

package:
  name: qt
  version: {{ version }}

source:
  fn: qt-everywhere-opensource-src-{{ version }}.tar.gz
  url: http://download.qt-project.org/official_releases/qt/4.8/{{ version }}/qt-everywhere-opensource-src-{{ version }}.tar.gz
  md5: d990ee66bf7ab0c785589776f35ba6ad
  patches:
    - acceptance.patch
    - qmake-arch.patch  # [osx]
    - ubuntu_disable_scrollbars.patch  # [linux]
    - disable_win10_warning.patch  # [win]
    - vs2015_int_fix.patch  # [win and py >= 35]

build:
  skip: true  # [win and osx]
  features:
    - vc9  # [win and py27]
    - vc10  # [win and py34]
    - vc14  # [win and py35]

requirements:
  build:
    # HACK: this is here to get Windows features (vc??) to work.
    - python  # [win]
    - freetype 2.6.*  # [unix]
    - fontconfig 2.11.*  # [linux]
    - freeglut  # [linux]
    - openssl 1.0.*
    - jpeg 9*
    - libtiff 4.0.*
    - zlib 1.2.*
    - libpng >=1.6.21,<1.7
    - jom  # [win]
  run:
    - freetype 2.6.*  # [unix]
    - fontconfig 2.11.*  # [linux]
    - pango  # [linux]
    - openssl 1.0.*
    - libpng >=1.6.21,<1.7
    - jpeg 9*
    - libtiff 4.0.*
    - zlib 1.2.*

about:
  home: http://qt-project.org
  license: LGPL
  summary: Qt is a cross-platform application and UI framework
  description: |
    Qt helps you create connected devices, UIs & applications that run
    anywhere on any device, on any operating system at any time.
  doc_url: http://doc.qt.io/
  dev_url: https://github.com/qtproject

extra:
    recipe-maintainers:
      - gillins
      - msarahan
      - ccordoba12
