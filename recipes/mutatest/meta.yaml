{% set name = "mutatest" %}
{% set version = "2.1.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 239d4d94a66051e07136f15892d2c463bda2683fba031fbe7b18f29c17ed5d43

build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  host:
    - python >=3.7
    - pip
  run:
    - python >=3.7
    - coverage >=4.4,<6.0
    - typing-extensions

test:
  imports:
    - mutatest
  requires:
    # coverage.CoverageData is used to create mocks in testing
    - coverage >=4.4,<6.0
    - pytest
    - freezegun
    - hypothesis
    # including pytest-cov because of default pytest.ini settings
    - pytest-cov
  commands:
    - pytest

about:
  home: https://github.com/EvanKepner/mutatest
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: 'Python mutation testing: test your tests!'
  description: |
    Are you confident in your tests?
    Try out mutatest and see if your tests will detect small modifications (mutations) in the code.
    Surviving mutations represent subtle changes that are undetectable by your tests.
    Mutatest modifies the pycache, not your source code, and has multiple running modes.
  doc_url: https://mutatest.readthedocs.io/
  dev_url: https://github.com/EvanKepner/mutatest

extra:
  recipe-maintainers:
    - EvanKepner
