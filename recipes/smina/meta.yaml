{% set name = "smina" %}
{% set version = "2020.12.09" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://sourceforge.net/code-snapshots/git/s/sm/smina/code.git/smina-code-b08c07ce217d1618b51464236da0ae75971a85b9.zip
  sha256: a2e72708fc96115f033c2a1176f2069bf4439b3d8e024c5c9675dcb5939db42a
  patches:         # [win]
    - cmake.patch  # [win]

build:
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cmake
    - make   # [unix]
    - ninja  # [win]
  host:
    - boost-cpp
    - eigen
    - openbabel
  run:
    - boost-cpp
    - openbabel

test:
  commands:
    - smina --help
    - test -f ${PREFIX}/lib/libsmina.a  # [unix]

about:
  home: https://sourceforge.net/projects/smina/
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE.APACHE
  summary: 'A fork of AutoDock Vina that is customized to better support scoring function development and high-performance energy minimization'
  description: |
    A fork of AutoDock Vina that is customized to better support scoring
    function development and high-performance energy minimization. smina
    is maintained by David Koes at the University of Pittsburgh and
    is not directly affiliated with the AutoDock project.
  doc_url: https://sourceforge.net/p/smina/discussion/
  dev_url: https://sourceforge.net/p/smina/code/ci/master/tree/

extra:
  recipe-maintainers:
    - jaimergp
