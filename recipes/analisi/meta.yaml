{% set name = "analisi" %}
{% set version = "0.1.5" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/rikigigi/analisi/archive/v{{ version }}.tar.gz
  sha256: b89876b012136ce7effbd88ddcf1572053588c5261949201720a2c94ebe52c5c

build:
  number: 1
  skip: True  # [not linux]

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cmake
    - make
  host:
    - python
    - {{ mpi }}
  run:
    - python
    - {{ mpi }}

test:
  imports:
    - pyanalisi
  commands:
    - mpirun -np 2 analisi
    - analisi_serial
about:
  home: https://github.com/rikigigi/analisi
  license: GPL-3.0
  license_file: LICENSE
  summary: 'analisi: your Swiss Army Knife of molecular dynamics analysis'
  description: |
     analisi is a framework for analyzing molecular dynamics simulations.
     It can read lammps's binary format (other formats can be converted)
     and evaluate averages over the ergodic and equilibrated trajectory. 
     The heaviest calculation can be performed in a parallel way using 
     MPI, while multithreading is implemented also in the python interface.
     Yes, we have a python interface.
  dev_url: https://github.com/rikigigi/analisi

extra:
  recipe-maintainers:
    - rikigigi
