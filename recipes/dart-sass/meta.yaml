{% set name = "dart-sass" %}
{% set version = "1.54.0" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  # binary repacking here because these files are nothing more than a dart binary and a wrapper script. This is the source, in effect.
  - url: "https://github.com/sass/dart-sass/releases/download/{{ version }}/dart-sass-{{ version }}-macos-x64.tar.gz"        # [osx and x86_64]
    sha256: "4c670aec23a15ab51deaba71eac754a3fb349532f25cc7b5fcb9d40e8a5104fe"                                            # [osx and x86_64]
  - url: "https://github.com/sass/dart-sass/releases/download/{{ version }}/dart-sass-{{ version }}-macos-arm64.tar.gz"      # [osx and arm64]
    sha256: "7b8c5d3e502bb960ee32877e10113c4203512794a49fcfb6220d5f0ce7a69885"                                            # [osx and arm64]
  - url: "https://github.com/sass/dart-sass/releases/download/{{ version }}/dart-sass-{{ version }}-linux-x64.tar.gz"     # [linux and x86_64]
    sha256: "e9e091d32dbef1ac3d5a91e5df0a11879412f81c7bab8bc726c577de60abe3df"                                            # [linux and x86_64]
  - url: "https://github.com/sass/dart-sass/releases/download/{{ version }}/dart-sass-{{ version }}-linux-arm64.tar.gz"   # [linux and aarch64]
    sha256: "856b54e3213bbbfd5107c014ae98f79e7c1a101e97f36918e2eec821553b54ea"                                            # [linux and aarch64]
  - url: "https://github.com/sass/dart-sass/releases/download/{{ version }}/dart-sass-{{ version }}-windows-x64.zip"      # [win]
    sha256: "f03f9269cf4809c1b73a30a5eea63b44296ea69555208466e474070409f510e8"                                            # [win]

build:
  number: 0
  binary_relocation: False
  missing_dso_whitelist:
    # normal linux stuff that would go away if we had libgcc-ng in the run deps
    - "*/ld-linux.so.2"
    - "*/lib64/ld-linux-x86-64.so.2"
    - "*/libpthread.so.0"
    - "*/libdl.so.2"
    - "*/libm.so.6"
    - "*/libc.so.6"

test:
  commands:
    - sass --version

about:
  home: https://sass-lang.com/dart-sass
  license: MIT
  license_file:
    - src/LICENSE
    - dart_license.txt
  summary: Dart implementation of Sass. Sass makes CSS fun again.

extra:
  recipe-maintainers:
    - msarahan
