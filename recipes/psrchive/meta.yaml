{% set name = "psrchive" %}
{% set version = "2021-01-18" %}

package:
    name: "{{ name | lower }}"
    version: "{{ version | replace('-','.') }}"

source:
    # TODO replace with sourceforge URL
    url: http://www.aoc.nrao.edu/~pdemores/{{ name }}-{{ version }}.tar.gz
    sha256: 74b2bd483bb8928bd070b96e7c845e1678213ba57bbdfa5a63726635554f8e9d
        
build:
    number: 0
    skip: true  # [win]

requirements:
    build:
        - {{ compiler('cxx') }}
        - {{ compiler('c') }}
        - {{ compiler('fortran') }}
        - libtool
        - swig
    host:
        - cfitsio
        - pgplot
        - gsl
        - python {{ python }}
        - numpy
        - fftw
        - tempo2
    run:
        - cfitsio
        - pgplot
        - gsl
        - python
        - numpy
        - tempo2
        - fftw
test:
    imports:
        - psrchive
    commands:
        - pav -h

about:
    home: http://psrchive.sourceforge.net/
    license: AFL-2.1
    licsense_file: COPYING
    summary: PSRCHIVE is a library for the analysis of pulsar astronomical data.
    dev_url: https://sourceforge.net/projects/psrchive/

extra:
    recipe-maintainers:
        - demorest
        - straten
