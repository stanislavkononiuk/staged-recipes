{% set name = "psrchive" %}
{% set version = "2021.01.15" %}

package:
    name: "{{ name | lower }}"
    version: "{{ version }}"

source:
    # TODO replace with sourceforge URL
    url: http://www.aoc.nrao.edu/~pdemores/{{ name }}-{{ version | replace(".","-") }}.tar.gz
    sha256: 1aa615d3b23c723f21f1a9b391e72e8489709fd8620b59187e21c5dcc388eb7b
        
build:
    number: 0
    skip: true  # [win]

requirements:
    build:
        - {{ compiler('cxx') }}
        - {{ compiler('c') }}
        - {{ compiler('fortran') }}
        - autoconf
        - automake
        - libtool
        - swig
    host:
        - cfitsio
        - pgplot
        - gsl
        - python {{ python }}
        - numpy
        - fftw
        - tempo2
    run:
        - cfitsio
        - pgplot
        - gsl
        - python
        - numpy
        - tempo2
        - fftw
test:
    imports:
        - psrchive
    commands:
        - pav -h

about:
    home: http://psrchive.sourceforge.net/
    license: AFL-2.1
    licsense_file: COPYING
    summary: PSRCHIVE is a library for the analysis of pulsar astronomical data.
    dev_url: https://sourceforge.net/projects/psrchive/

extra:
    recipe-maintainers:
        - demorest
        - straten
