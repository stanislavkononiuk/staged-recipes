package:
   name: root5
   version: "5.34.36"

source:
  url: https://root.cern.ch/download/root_v5.34.36.source.tar.gz
  
build:
  number: 0

requirements:
 
 build:
     - toolchain
     - gcc # [linux]
     - python x.x
     - gsl
     - fftw
     - cmake
     - cfitsio
     - xorg-libxft  # [linux]
     - xorg-libxpm  # [linux]
     - xorg-libsm  # [linux]
     - jpeg
     - libpng
     - zlib
     - libxml2
     - mesalib
    
 run:
     - python x.x
     - gsl
     - fftw
     - cfitsio
     - xorg-libxft  # [linux]
     - xorg-libxpm  # [linux]
     - xorg-libsm  # [linux]
     - jpeg
     - libpng
     - zlib
     - libgcc  # [linux]
     - libxml2
     - mesalib

test:
  commands:
    - test -f ${PREFIX}/lib/root/libCore.so [linux]
    - test -f ${PREFIX}/lib/root/libCore.so [osx]
    - test -f ${PREFIX}/include/root/TROOT.h
    - conda inspect linkages -p $PREFIX root5  # [not win]
    - conda inspect objects -p $PREFIX root5  # [osx]
    - root -b -q ${PREFIX}/share/doc/root/tutorials/roofit/rf101_basics.C
    - root -b -q ${PREFIX}/share/doc/root/tutorials/fft/FFT.C
    - root -b -q ${PREFIX}/share/doc/root/tutorials/physics/PhaseSpace.C
    - cd ${PREFIX}/share/doc/root/tutorials/pyroot && python fillrandom.py && python fit1.py
    - cd ${PREFIX}/share/doc/root/tutorials/fitsio && root -b -q FITS_tutorial1.C
    - 
