{% set name = "kivy" %}
{% set version = "1.10.1.dev0" %}
{% set sha256 = "8b29033a9e5700120ad2bf88529356fe48783a7fed6a88110e20a033790694ec" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  git_url: https://github.com/kivy/kivy.git

build:
  number: 0
  skip: True  # [py < 35]

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - python
    - pip
    - nose
    - setuptools
    - cython
    - sdl2
    - sdl2_mixer
    - sdl2_image
    - sdl2_ttf
    - pkgconfig
    - msinttypes  # [win]
    - gstreamer  # [not win]
    - gst-plugins-base  # [not win]
    - xorg-libx11  # [linux]
    - glew  # [win]
    - pyopengl  # [linux]
    - mesa  # [linux]
    - xorg-libxrender  # [linux]
    - xvfbwrapper  # [linux]
  host:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - python
    - pip
    - nose
    - setuptools
    - cython
    - sdl2
    - sdl2_mixer
    - sdl2_image
    - sdl2_ttf
    - pkgconfig
    - msinttypes  # [win]
    - gstreamer  # [not win]
    - gst-plugins-base  # [not win]
    - xorg-libx11  # [linux]
    - glew  # [win]
    - pyopengl  # [linux]
    - mesa  # [linux]
    - xorg-libxrender  # [linux]
    - xvfbwrapper  # [linux]
  run:
    - python
    - sdl2
    - sdl2_mixer
    - sdl2_image
    - sdl2_ttf
    - xorg-libx11  # [0]
    - glew  # [win]
    - docutils
    - pillow
    - pygments

test:
  imports:
    - kivy
  commands:
    - export KIVY_GL_BACKEND=mock
  requires:
    - nose
    - xvfbwrapper  # [linux]
    - gstreamer  # [not win]
    - gst-plugins-base  # [not win]
    - xorg-libxrender  # [linux]
    - xvfbwrapper  # [linux]
    - ffmpeg  # [linux]
  source_files:
    - examples
    - kivy/tests

about:
  home: http://kivy.org/
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: 'Open source UI framework written in Python, running on Windows, Linux, macOS, Android and iOS.'

  description: |
    Kivy is an open source, cross-platform Python framework for the development of
    applications that make use of innovative, multi-touch user interfaces. The aim
    is to allow for quick and easy interaction design and rapid prototyping whilst
    making your code reusable and deployable.
  doc_url: https://kivy.org/docs/gettingstarted/intro.html
  dev_url: https://github.com/kivy/kivy

extra:
  recipe-maintainers:
    - matham
