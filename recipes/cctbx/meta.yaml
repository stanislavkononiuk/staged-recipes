{% set name = "cctbx" %}
{% set version = "2020.03.alpha" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  #path: /Users/bkpoon/software/phenix-shared/modules/cctbx_project
  #path: /dev/shm/bkpoon/software/phenix/modules/cctbx_project
  url: https://github.com/cctbx/cctbx_project/archive/conda_compiler.tar.gz
  #url: https://github.com/cctbx/cctbx_project/archive/{{ version }}.tar.gz
  sha256: 4fe86d78bea620c5b967b32a8e1269e6601993255464bb165d16b40f620097b9
  # sha256 is the preferred checksum -- you can get it for a file with:
  #  `openssl sha256 <file name>`.
  # You may need the openssl package, available on conda-forge:
  #  `conda install openssl -c conda-forge``

build:
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - git
  host:
    - scons
    - boost >=1.65
    - boost-cpp
    - eigen
    - future
    - numpy >=1.14
    - pyopengl
    - python
    - python.app  # [osx]
    - setuptools
    - six
  run:
    - biopython
    - boost >=1.65
    - boost-cpp
    - cython
    - eigen
    - future
    - ipython
    - libsvm
    - matplotlib-base
    - mrcfile
    - {{ pin_compatible('numpy') }}
    - pillow
    - psutil
    - pyopengl
    - python
    - python.app  # [osx]
    - reportlab
    - six
    - wxpython

test:
  imports:
    - scitbx.array_family.flex

about:
  home: https://github.com/cctbx/cctbx_project
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE.txt
  summary: 'The Computational Crystallography Toolbox'
  description: |
    The Computational Crystallography Toolbox (cctbx) is being developed
    as the open source component of the Phenix system. The goal of the
    Phenix project is to advance automation of macromolecular structure
    determination. Phenix depends on the cctbx, but not vice versa. This
    hierarchical approach enforces a clean design as a reusable library.
    The cctbx is therefore also useful for small-molecule crystallography
    and even general scientific applications.
  doc_url: https://cctbx.github.io/
  dev_url: https://github.com/cctbx/cctbx_project

extra:
  recipe-maintainers:
    - bkpoon
