{% set name = "ldc" %}
{% set version = "1.9.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}-src.tar.gz
  url: https://github.com/ldc-developers/ldc/releases/download/v{{ version }}/ldc-{{ version }}-src.tar.gz
  sha256: e3f32a4dfcaae12f434e0e23638684faa83765827e7f2deb2df059dccc3169b9

build:
  number: 0
  skip: true  # [win]

requirements:
    build:
      - {{ compiler('c') }}
      - {{ compiler('cxx') }}
      - git
      - cmake
      - ninja
    host:
      - libconfig
      - curl
      - libedit
      - llvmdev

test:
  commands:
    - ldc2 --version

about:
  home: https://github.com/ldc-developers/ldc
  license: BSD, MIT, LDC
  license_file: LICENSE
  summary: 'The LLVM-based D Compiler'

  description: |
    The LDC project provides a portable D programming language compiler with modern optimization and code generation capabilities.
    The compiler uses the official DMD frontend to support the latest version of D2, and relies on the LLVM Core libraries for code generation.
  doc_url: https://wiki.dlang.org/LDC
  dev_url: https://github.com/ldc-developers/ldc 

extra:
  recipe-maintainers:
    - brainstorm
