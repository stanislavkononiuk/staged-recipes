{% set version = '0.1.4' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-piggyback
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/piggyback_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/piggyback/piggyback_{{ version }}.tar.gz
  sha256: 9e9d6d75e13f82559e5322182af557b3c79f9a6e9b0bc8c1e1b193544dcda511

build:
  merge_build_host: True  # [win]
  number: 0
  noarch: generic
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-base
    - r-cli
    - r-fs
    - r-gh
    - r-glue
    - r-httr
    - r-jsonlite
    - r-lubridate
    - r-memoise
  run:
    - r-base
    - r-cli
    - r-fs
    - r-gh
    - r-glue
    - r-httr
    - r-jsonlite
    - r-lubridate
    - r-memoise

test:
  commands:
    - $R -e "library('piggyback')"           # [not win]
    - "\"%R%\" -e \"library('piggyback')\""  # [win]

about:
  home: https://github.com/ropensci/piggyback
  license: GPL-3.0-only
  summary: Because larger (> 50 MB) data files cannot easily be committed to git, a different
    approach is required to manage data associated with an analysis in a GitHub repository.  This
    package provides a simple work-around by allowing larger (up to 2 GB) data files
    to piggyback on a repository as assets attached to individual GitHub releases.  These
    files are not handled by git in any way, but instead are uploaded, downloaded, or
    edited directly by calls through the GitHub API. These data files can be versioned
    manually by creating different releases.  This approach works equally well with
    public or private repositories.  Data can be uploaded and downloaded programmatically
    from scripts. No authentication is required to download data from public repositories.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - conda-forge/r
    - jdblischak

# Package: piggyback
# Version: 0.1.4
# Title: Managing Larger Data on a GitHub Repository
# Description: Because larger (> 50 MB) data files cannot easily be committed to git, a different approach is required to manage data associated with an analysis in a GitHub repository.  This package provides a simple work-around by allowing larger (up to 2 GB) data files to piggyback on a repository as assets attached to individual GitHub releases.  These files are not handled by git in any way, but instead are uploaded, downloaded, or edited directly by calls through the GitHub API. These data files can be versioned manually by creating different releases.  This approach works equally well with public or private repositories.  Data can be uploaded and downloaded programmatically from scripts. No authentication is required to download data from public repositories.
# Authors@R: c(person("Carl", "Boettiger", email = "cboettig@gmail.com", role = c("aut", "cre", "cph"), comment = c(ORCID = "0000-0002-1642-628X")), person("Tan", "Ho", role = c("aut"), comment = c(ORCID = "0000-0001-8388-5155")), person("Mark", "Padgham", role = c("ctb"), comment = c(ORCID = "0000-0003-2172-5265")), person(c('Jeffrey', 'O'), 'Hanson', role = c("ctb"), comment = c(ORCID = "0000-0002-4716-6134")), person("Kevin", 'Kuo', role = c("ctb"), comment = c(ORCID = "0000-0001-7803-7901")) )
# URL: https://github.com/ropensci/piggyback
# BugReports: https://github.com/ropensci/piggyback/issues
# License: GPL-3
# Encoding: UTF-8
# ByteCompile: true
# Imports: cli, glue, gh, httr, jsonlite, fs, lubridate, memoise
# Suggests: spelling, readr, covr, testthat, knitr, rmarkdown, gert, withr, magrittr
# VignetteBuilder: knitr
# RoxygenNote: 7.1.2
# Language: en-US
# NeedsCompilation: no
# Packaged: 2022-07-19 22:28:59 UTC; cboettig
# Author: Carl Boettiger [aut, cre, cph] (<https://orcid.org/0000-0002-1642-628X>), Tan Ho [aut] (<https://orcid.org/0000-0001-8388-5155>), Mark Padgham [ctb] (<https://orcid.org/0000-0003-2172-5265>), Jeffrey O Hanson [ctb] (<https://orcid.org/0000-0002-4716-6134>), Kevin Kuo [ctb] (<https://orcid.org/0000-0001-7803-7901>)
# Maintainer: Carl Boettiger <cboettig@gmail.com>
# Repository: CRAN
# Date/Publication: 2022-07-19 23:20:02 UTC
