{% set version = "1.2.0" %}

package:
    name: mss
    version:  {{ version }}

source:
    fn: mss-{{ version }}.tar.gz
    url: https://bitbucket.org/wxmetvis/mss/get/{{ version }}.tar.gz
    sha256: 6e15a2a7c65ce676169551660e51ced5b0718ef83c4f93104a0f6b70ed502183

build:
    number: 0
    script: python setup.py install --single-version-externally-managed --record record.txt
    skip: True  # [py3k]
    entry_points:
      - mss = mslib.msui.mss_pyui:main
      - mswms = mslib.mswms.mswms:main

requirements:
    build:
        - python
        - setuptools
    run:
        - python
        # mss import pyproj from basemap and that does not exist in 1.0.8
        - basemap 1.0.7
        - chameleon
        - execnet
        - lxml
        - netcdf4
        - paste
        - pillow
        - python-dateutil
        - pytz
        - requests
        - scipy
        - six
        - tk 8.5.*
        # FIXME: Workaround until https://github.com/conda-forge/matplotlib-feedstock/issues/36 is fixed.
        - icu

test:
    imports:
        - mslib
    commands:
        - mswms -h

about:
    summary: A web service based tool to plan atmospheric research flights
    home: https://bitbucket.org/wxmetvis/mss
    license: Apache 2.0
    license_file: LICENSE

extra:
    recipe-maintainers:
        - ReimarBauer
