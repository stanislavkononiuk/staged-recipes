{% set version = '2.1.1' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-adiv
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/adiv_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/adiv/adiv_{{ version }}.tar.gz
  sha256: 46a9866c72e0ea414265b45c87962a543b02598707ed8cc7895bd42d8cb49b21

build:
  merge_build_host: True  # [win]
  number: 0
  noarch: generic
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-base
    - r-factominer
    - r-ade4
    - r-adegraphics
    - r-adephylo
    - r-ape
    - r-cluster
    - r-lpsolve
    - r-phylobase
    - r-phytools
    - r-rgl
    - opencv  # [linux]
  run:
    - r-base
    - r-factominer
    - r-ade4
    - r-adegraphics
    - r-adephylo
    - r-ape
    - r-cluster
    - r-lpsolve
    - r-phylobase
    - r-phytools
    - r-rgl

test:
  commands:
    - $R -e "library('adiv')"           # [not win]
    - "\"%R%\" -e \"library('adiv')\""  # [win]

about:
  home: https://CRAN.R-project.org/package=adiv
  license: GPL-2.0-or-later
  summary: Functions, data sets and examples for the calculation of various indices of biodiversity
    including species, functional and phylogenetic diversity. Part of the indices are
    expressed in terms of equivalent numbers of species. The package also provides ways
    to partition biodiversity across spatial or temporal scales (alpha, beta, gamma
    diversities). In addition to the quantification of biodiversity, ordination approaches
    are available which rely on diversity indices and allow the detailed identification
    of species, functional or phylogenetic differences between communities.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - conda-forge/r
    - marie59

# Package: adiv
# Type: Package
# Title: Analysis of Diversity
# Version: 2.1.1
# Date: 2021-09-27
# Author: Sandrine Pavoine
# Maintainer: Sandrine Pavoine <sandrine.pavoine@mnhn.fr>
# Description: Functions, data sets and examples for the calculation of various indices of biodiversity including species, functional and phylogenetic diversity. Part of the indices are expressed in terms of equivalent numbers of species. The package also provides ways to partition biodiversity across spatial or temporal scales (alpha, beta, gamma diversities). In addition to the quantification of biodiversity, ordination approaches are available which rely on diversity indices and allow the detailed identification of species, functional or phylogenetic differences between communities.
# Depends: R (>= 3.5.0)
# Imports: ade4, adegraphics, adephylo, ape, cluster, FactoMineR, graphics, grDevices, lpSolve, methods, phylobase, phytools, rgl, stats, utils
# License: GPL (>= 2)
# NeedsCompilation: no
# Packaged: 2021-09-27 13:19:55 UTC; SandrineP
# Repository: CRAN
# Date/Publication: 2021-09-27 15:10:16 UTC
