{% set version = '0.5.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-mosaiccalc
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/mosaicCalc_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/mosaicCalc/mosaicCalc_{{ version }}.tar.gz
  sha256: 2179bbeaa2ec07860fc99d74c087b5b414616113907922b8faee4312063eb270

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: testthat, knitr, rmarkdown, mosaicData
requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]

  host:
    - r-base
    - r-mass
    - r-ggformula
    - r-magrittr
    - r-mosaic
    - r-mosaiccore
    - r-rlang

  run:
    - r-base
    - r-mass
    - r-ggformula
    - r-magrittr
    - r-mosaic
    - r-mosaiccore
    - r-rlang

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('mosaicCalc')"           # [not win]
    - "\"%R%\" -e \"library('mosaicCalc')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/ProjectMOSAIC/mosaicCalc

  license: GPL-2
  summary: Part of the Project MOSAIC (<http://mosaic-web.org/>) suite that provides utility
    functions for doing calculus (differentiation and integration) in R. The main differentiation
    and antidifferentiation operators are described using formulas and return functions
    rather than numerical values. Numerical values can be obtained by evaluating these
    functions.

  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

# The original CRAN metadata for this package was:

# Package: mosaicCalc
# Type: Package
# Title: Function-Based Numerical and Symbolic Differentiation and Antidifferentiation
# Description: Part of the Project MOSAIC (<http://mosaic-web.org/>) suite that provides utility functions for doing calculus (differentiation and integration) in R. The main differentiation and antidifferentiation operators are described using formulas and return functions rather than numerical values. Numerical values can be obtained by evaluating these functions.
# Version: 0.5.1
# Depends: R (>= 3.0.0), mosaicCore
# Imports: methods, stats, MASS, mosaic, ggformula, magrittr, rlang
# Suggests: testthat, knitr, rmarkdown, mosaicData
# Author: Daniel T. Kaplan <kaplan@macalester.edu>, Randall Pruim <rpruim@calvin.edu>, Nicholas J. Horton <nhorton@amherst.edu>
# Maintainer: Daniel Kaplan <kaplan@macalester.edu>
# VignetteBuilder: knitr
# License: GPL (>= 2)
# LazyLoad: yes
# LazyData: yes
# URL: https://github.com/ProjectMOSAIC/mosaicCalc
# BugReports: https://github.com/ProjectMOSAIC/mosaicCalc/issues
# RoxygenNote: 7.0.2
# Encoding: UTF-8
# NeedsCompilation: no
# Packaged: 2020-05-06 19:41:21 UTC; kaplan
# Repository: CRAN
# Date/Publication: 2020-05-07 13:00:13 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
