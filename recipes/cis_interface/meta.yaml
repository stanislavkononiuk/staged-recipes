{% set name = "cis_interface" %}
{% set version = "0.4" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: b815bbb0f9fa38d9e8f0f9e6a47bb4bfd67dbb9f5b6cdd81288dfe84a612e59a

build:
  number: 0
  script: python -m pip install --no-deps --ignore-installed .

requirements:
  build:
    - {{ compiler('c') }}
  host:
    - czmq
    - pip
    - python
    - sysv_ipc  # [unix]
    - zeromq
  run:
    - cerberus
    - czmq
    - jsonschema
    - matplotlib
    - nose
    - numpy
    - pandas  # [not py34]
    - pandas < 0.21  # [py34]
    - pint
    - psutil
    - pystache
    - python
    - pyyaml
    - scipy
    - sysv_ipc  # [unix]
    - unyt
    - zeromq

test:
  imports:
    - cis_interface
  requires:
    - astropy
    - nose
    - pika
  commands:
    - cistest --nologcapture -svx

about:
  home: https://github.com/cropsinsilico/cis_interface
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE.txt
  summary: 'A framework for connecting computational models from multiple languages.'

  description: |
    The CiS framework provides support for connecting scientific models
    written in different programming languages. To connect two models,
    modelers add communications interfaces to the model code
    and provide declarative specification files that identfy the
    models that should be run and the inputs and outputs those models
    expect. The CiS framework uses this information to launch the models 
    on parallel processes and orchestrate communication between them.
  doc_url: https://cropsinsilico.github.io/cis_interface
  dev_url: https://github.com/cropsinsilico/cis_interface

extra:
  recipe-maintainers:
    - langmm
