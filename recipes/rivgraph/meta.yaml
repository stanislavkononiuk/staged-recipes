{% set name = "rivgraph" %}
{% set version = "0.5.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/veinsoftheearth/rivgraph/archive/v{{ version }}.tar.gz
  sha256: 797b3dbba2a2f135a39a9cbaebdf59f9194fa48808211c5733dee56b510a505c
  # sha256 is the preferred checksum -- you can get it for a file with:
  #  `openssl sha256 <file name>`.  

build:
  noarch: python
  number: 0  
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:  
  host:
    - pip
    - python >=3.7    
    - geopandas
    - scikit-image
    - opencv
    - networkx <2.7 # necessary for correct numpy ops
    - shapely =1.7.1
    - matplotlib-base
    - fastdtw
    - loguru
    
  
  run:
    - python >=3.7    
    - geopandas
    - scikit-image
    - opencv
    - networkx <2.7 # necessary for correct numpy ops
    - shapely =1.7.1
    - matplotlib-base
    - fastdtw
    - loguru

test:  
  imports:
  - rivgraph

about:
  home: https://github.com/VeinsOfTheEarth/RivGraph
  license: BSD-3-Clause
  license_family: BSD  
  license_file: LICENSE.txt
  summary: 'Package to convert a binary mask of a channel network into a directed, weighted graph'
  description: |
    RivGraph extracts and quantifies graphical representations
    of river and delta channel networks from binary masks.    
  doc_url: https://veinsoftheearth.github.io/RivGraph
  dev_url: https://github.com/VeinsOfTheEarth/RivGraph
extra:
  recipe-maintainers:    
    - jsta
    - jonschwenk
    - elbeejay
