{% set name = "gnu-units" %}
{% set version = "2.19n" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: http://alpha.gnu.org/gnu/units/units-{{ version }}.tar.gz
  sha256: 6cb71aa0a444f59eda7e13c2dc4abacd63fc031fdd2cac12b18a2f0d2bb4bca1

build:
  number: 0
  skip: true  # [win]
  script:
    - ./configure --prefix={{ PREFIX }}
    - make
    - make check
    - make install
    - make installcheck

requirements:
  build:
    - {{ compiler('c') }}
    - make
  host:
    - requests
  run:
    - requests

test:
  commands:
    - units

about:
  home: https://www.gnu.org/software/units/
  license: GPL-2.0-or-later
  license_file: COPYING
  summary: GNU Units converts quantities expressed in various systems of measurement to their equivalents in other systems of measurement

extra:
  recipe-maintainers:
    - ngam
