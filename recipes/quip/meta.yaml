{% set name = "quip" %}
{% set version = "0.0.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/libAtoms/QUIP/archive/public.tar.gz
  sha256: 1f35a21b7fea2ec55dfb0fb6f7d73523e8151386748f3ed0e658a77d619535bd
  patches:
    - options.patch

build:
  number: 0
  skip: true  # [not linux]

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('fortran') }}
    - make
  host:
    - python
    - numpy
    - f90wrap >=0.2.3
    - libblas
    - liblapack
    - fox
  run:
    - python
    - {{ pin_compatible('numpy') }}
    - ase
    - f90wrap >=0.2.3

test:
  imports:
    - quippy

about:
  home: https://libatoms.github.io
  license: MIT
  license_family: MIT
  license_file: LICENSE.txt
  summary: 'libAtoms/QUIP molecular dynamics framework'

  description: |
    The QUIP package is a collection of software tools to carry out 
    molecular dynamics simulations. It implements a variety of 
    interatomic potentials and tight binding quantum mechanics, and is 
    also able to call external packages, and serve as plugins to other 
    software such as LAMMPS, CP2K and also the python framework ASE. 
    Various hybrid combinations are also supported in the style of QM/MM, 
    with a particular focus on materials systems such as metals and 
    semiconductors.
  doc_url: https://libatoms.github.io
  dev_url: https://github.com/libAtoms/QUIP

extra:
  recipe-maintainers:
    - jan-janssen
