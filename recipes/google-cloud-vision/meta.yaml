{% set name = "google-cloud-vision" %}
{% set version = "0.36.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: c212cb7ca082b9dd0ff9ef6f92201b3e7b08fcfd6b7afb04379104503e2f2c5f

build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install . --no-deps --ignore-installed --verbose"

requirements:
  host:
    - python <3
    - pip >=18.1
    - enum34 >=1.1.6
    - google-api-core >=1.6.0,<2.0.0dev
    - grpcio >=1.8.2
  run:
    - python <3
    - {{ pin_compatible('enum34') }}
    - {{ pin_compatible('google-api-core', min_pin='x', max_pin='x') }}
    - {{ pin_compatible('grpcio') }}

test:
  imports:
    - enum
    - google.api
    - google.api_core
    - google.cloud
    - google.cloud.vision
    - google.cloud.vision_helpers
    - google.cloud.vision_helpers.decorators
    - google.cloud.vision_v1
    - google.cloud.vision_v1.gapic
    - google.cloud.vision_v1.gapic.enums
    - google.cloud.vision_v1.gapic.image_annotator_client
    - google.cloud.vision_v1.gapic.image_annotator_client_config
    - google.cloud.vision_v1.gapic.product_search_client
    - google.cloud.vision_v1.gapic.product_search_client_config
    - google.cloud.vision_v1.gapic.transports
    - google.cloud.vision_v1.gapic.transports.image_annotator_grpc_transport
    - google.cloud.vision_v1.gapic.transports.product_search_grpc_transport
    - google.cloud.vision_v1.proto
    - google.cloud.vision_v1.proto.geometry_pb2
    - google.cloud.vision_v1.proto.geometry_pb2_grpc
    - google.cloud.vision_v1.proto.image_annotator_pb2
    - google.cloud.vision_v1.proto.image_annotator_pb2_grpc
    - google.cloud.vision_v1.proto.product_search_pb2
    - google.cloud.vision_v1.proto.product_search_pb2_grpc
    - google.cloud.vision_v1.proto.product_search_service_pb2
    - google.cloud.vision_v1.proto.product_search_service_pb2_grpc
    - google.cloud.vision_v1.proto.text_annotation_pb2
    - google.cloud.vision_v1.proto.text_annotation_pb2_grpc
    - google.cloud.vision_v1.proto.web_detection_pb2
    - google.cloud.vision_v1.proto.web_detection_pb2_grpc
    - google.cloud.vision_v1.types
    - google.longrunning
    - google.oauth2
    - google.protobuf
    - google.rpc
    - google.type
    - grpc

about:
  home: https://github.com/googleapis/google-cloud-python/tree/master/vision
  license: Apache 2.0
  license_family: APACHE
  summary: 'Google Cloud Vision API client library'

  description: |
    The Google Cloud Vision API enables developers to understand the content
    of an image by encapsulating powerful machine learning models in an easy
    to use REST API. It quickly classifies images into thousands of categories
    (e.g., "sailboat", "lion", "Eiffel Tower"), detects individual objects and
    faces within images, and finds and reads printed words contained within
    images. You can build metadata on your image catalog, moderate offensive
    content, or enable new marketing scenarios through image sentiment analysis.
    Analyze images uploaded in the request or integrate with your image storage
    on Google Cloud Storage.

  doc_url: https://googleapis.github.io/google-cloud-python/latest/vision/index.html
  dev_url: https://github.com/googleapis/google-cloud-python

extra:
  recipe-maintainers:
    - BrentDorsey
