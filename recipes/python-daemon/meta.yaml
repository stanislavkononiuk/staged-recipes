{% set name = "python-daemon" %}
{% set version = "2.2.0" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: aca149ebf7e73f10cd554b2df5c95295d49add8666348eff6195053ec307728c

  # https://pagure.io/python-daemon/issue/5
  patches:
    - fix_py3.patch  # [unix]

build:
  skip: True  # [not unix]
  number: 0
  script: "{{ PYTHON }} -m pip install . --no-deps --ignore-installed -vvv "

requirements:
  host:
    - docutils
    - lockfile >=0.10
    - pip
    - python
    - setuptools
  run:
    - docutils
    - lockfile >=0.10
    - python
    - setuptools

test:
  imports:
    - daemon
  requires:
    - docutils
    - mock >=1.3
    - testtools
    - unittest2 >=0.5.1

about:
  home: https://pagure.io/python-daemon/
  license: Apache Software
  license_family: APACHE
  license_file: LICENSE.ASF-2
  summary: Library to implement a well-behaved Unix daemon process.
  dev_url: https://pagure.io/python-daemon/

extra:
  recipe-maintainers:
    - lincrosenbach
    - kfasolin
