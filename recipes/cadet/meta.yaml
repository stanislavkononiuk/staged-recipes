{% set name = "CADET" %}
{% set version = "4.1.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/cadet/cadet/releases/download/{{ version }}/cadet-{{ version }}.tar.gz
  url: https://github.com/cadet/cadet/archive/v{{ version }}.tar.gz
  sha256: f88f9fe206e8f4e804098f3f0565d82ecf800e63

build:
  number: 0
  # If the installation is complex, or different between Unix and Windows, use separate bld.bat and build.sh files instead of this key.
  # By default, the package will be built for the Python versions supported by conda-forge and for all major OSs.
  # Add the line "skip: True  # [py<35]" (for example) to limit to Python 3.5 and newer, or "skip: True  # [not win]" to limit to Windows.
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cmake
    - make
    - mkl
    - sundials=3.2.1
    - suitesparse
    - tbb-devel
    - hdf5
    - cmake
    - superlu # [not win]
  host:
    - python
    - pip
  run:
  - sundials=3.2.1
  - suitesparse
  - tbb
  - hdf5

test:
  # Some packages might need a `test/commands` key to check CLI.
  # List all the packages/modules that `run_test.py` imports.
  imports:
    - simplejson
    - simplejson.tests

about:
  home: https://github.com/modsim/cadet
  license: GPL-3.0-or-later
  license_family: GPL
  license_file: LICENSE.txt
  summary: 'Fast and accurate solver for extensive models'
  description: The CADET software is a fast and accurate solver for a comprehensive model family. Typical applications include (but are not limited to) chromatography, filtration, crystallization, and fermentation. CADET can handle arbitrary sequences and networks of unit operations, including reactors, tanks, tubes, pumps, valves, detectors, etc. The resulting models are solved with state-of-the-art mathematical algorithms and scientific computing techniques.
  doc_url: https://cadet.github.io/
  dev_url: https://github.com/modsim/cadet

extra:
  recipe-maintainers:
    - jayghoshter
    - jazib-hassan-juelich
    - schmoelder

