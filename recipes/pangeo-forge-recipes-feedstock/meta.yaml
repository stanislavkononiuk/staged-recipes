{% set name = "pangeo-forge-recipes" %}
{% set version = "0.6.0" %}
{% set hash_val = "b8d16616a9d9097c41d45d7acc8543245a710b8b450cb687a5f03d1908414d68" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: {{ hash_val }}

build:
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  host:
    - python
    - pip
  run:
    - python >=3.8
    - aiohttp
    - black
    - boto3
    - cfgrib <0.9.9.0
    - codecov
    - dask
    - distributed
    - fsspec >=2021.6.0
    - fsspec-reference-maker
    - h5netcdf
    - h5py
    - hdf5
    - intake
    - intake-xarray
    - lxml
    - netcdf4
    - numcodecs
    - numpy
    - pandas
    - pip
    - prefect
    - pydap
    - pytest
    - pytest-cov
    - pytest-lazy-fixture
    - rasterio
    - requests <2.26,>=2.20
    - rechunker >=0.4.2
    - scipy
    - setuptools
    - toolz
    - xarray >=0.18.0
    - zarr >=2.6.0
    - pytest-repeat
    - pytest-timeout

test:
  imports:
    - pangeo_forge_recipes
  requires:
    - pip
  commands:
    - pip check

about:
  home: https://pangeo-forge.org/
  license: Apache-2.0
  license_file: LICENSE
  summary: 'Python library for building Pangeo Forge recipes.'
  description: |
    Pangeo Forge is an open source platform for data Extraction, Transformation, 
    and Loading (ETL). The goal of Pangeo Forge is to make it easy to extract data 
    from traditional data repositories and deposit in cloud object storage in 
    analysis-ready, cloud-optimized (ARCO) format. Pangeo Forge is inspired directly 
    by Conda Forge, a community-led collection of recipes for building conda packages. 
    We hope that Pangeo Forge can play the same role for datasets.
  doc_url: https://pangeo-forge.readthedocs.io/en/latest/
  dev_url: https://github.com/pangeo-forge/pangeo-forge-recipes

extra:
  recipe-maintainers:
    - cisaacstern
    - rabernat
