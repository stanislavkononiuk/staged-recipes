diff --git a/CMakeLists.txt b/CMakeLists.txt
index 23ad3400..5c395d0a 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -45,15 +45,10 @@ OPTION (WITH_SYSTEM_ZCHUNK "Use system zchunk library?" OFF)
 OPTION (WITH_LIBXML2  "Build with libxml2 instead of libexpat?" OFF)
 
 # Library
-IF (DEFINED LIB)
-  SET (LIB_INSTALL_DIR "${CMAKE_INSTALL_PREFIX}/${LIB}")
-ELSE (DEFINED  LIB)
-  IF (CMAKE_SIZEOF_VOID_P MATCHES "8")
-    SET (LIB_SUFFIX "64")
-  ENDIF (CMAKE_SIZEOF_VOID_P MATCHES "8")
-  SET (LIB_INSTALL_DIR "${CMAKE_INSTALL_PREFIX}/lib${LIB_SUFFIX}")
-ENDIF (DEFINED  LIB)
+INCLUDE (GNUInstallDirs)
+SET (LIB_INSTALL_DIR ${CMAKE_INSTALL_LIBDIR})
 MESSAGE (STATUS "Libraries will be installed in ${LIB_INSTALL_DIR}")
+
 # Library
 IF (DEFINED INCLUDE)
   SET (INCLUDE_INSTALL_DIR "${CMAKE_INSTALL_PREFIX}/${INCLUDE}")
@@ -433,12 +428,23 @@ ENDIF (HAVE_LINKER_AS_NEEDED)
 ADD_SUBDIRECTORY (src)
 
 IF (NOT MSVC)
-  ADD_SUBDIRECTORY (ext)
-  ADD_SUBDIRECTORY (tools)
+
+  OPTION (ENABLE_TOOLS "Build libsolv tools (linux only)" OFF)
+  OPTION (ENABLE_EXT "Build libsolv extensions (linux only)" OFF)
+  OPTION (ENABLE_EXAMPLES "Build libsolv examples (linux only)" OFF)
+
+  IF (ENABLE_EXT)
+    ADD_SUBDIRECTORY (ext)
+  ENDIF ()
+  IF (ENABLE_TOOLS)
+    ADD_SUBDIRECTORY (tools)
+  ENDIF ()
   IF (ENABLE_PERL OR ENABLE_PYTHON OR ENABLE_RUBY OR ENABLE_TCL)
-      ADD_SUBDIRECTORY (bindings)
+    ADD_SUBDIRECTORY (bindings)
   ENDIF (ENABLE_PERL OR ENABLE_PYTHON OR ENABLE_RUBY OR ENABLE_TCL)
-  ADD_SUBDIRECTORY (examples)
+  IF (ENABLE_EXAMPLES)
+    ADD_SUBDIRECTORY (examples)
+  ENDIF ()
   ADD_SUBDIRECTORY (doc)
 ENDIF ()
 
