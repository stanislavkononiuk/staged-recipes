From 44f1ffc162bfb6980d8a47515dffbf2e5fff3cd4 Mon Sep 17 00:00:00 2001
From: "H. Vetinari" <h.vetinari@gmx.com>
Date: Sun, 29 Mar 2020 19:16:11 +0200
Subject: [PATCH 2/2] do not vendor pyarrow/pickle5

---
 build.sh | 22 ----------------------
 1 file changed, 22 deletions(-)

diff --git a/build.sh b/build.sh
index 2a061bb3..664ba4b8 100755
--- a/build.sh
+++ b/build.sh
@@ -93,28 +93,6 @@ fi
 
 pushd "$BUILD_DIR"
 
-# The following line installs pyarrow from S3, these wheels have been
-# generated from https://github.com/ray-project/arrow-build from
-# the commit listed in the command.
-if [ -z "$SKIP_PYARROW_INSTALL" ]; then
-    "$PYTHON_EXECUTABLE" -m pip install -q \
-        --target="$ROOT_DIR/python/ray/pyarrow_files" pyarrow==0.14.0.RAY \
-        --find-links https://s3-us-west-2.amazonaws.com/arrow-wheels/3a11193d9530fe8ec7fdb98057f853b708f6f6ae/index.html
-fi
-
-PYTHON_VERSION=`"$PYTHON_EXECUTABLE" -c 'import sys; version=sys.version_info[:3]; print("{0}.{1}".format(*version))'`
-if [[ "$PYTHON_VERSION" == "3.6" || "$PYTHON_VERSION" == "3.7" ]]; then
-  WORK_DIR=`mktemp -d`
-  pushd $WORK_DIR
-    git clone https://github.com/pitrou/pickle5-backport
-    pushd pickle5-backport
-      git checkout 5186f9ca4ce55ae530027db196da51e08208a16b
-      "$PYTHON_EXECUTABLE" setup.py bdist_wheel
-      unzip -o dist/*.whl -d "$ROOT_DIR/python/ray/pickle5_files"
-    popd
-  popd
-fi
-
 export PYTHON3_BIN_PATH="$PYTHON_EXECUTABLE"
 export PYTHON2_BIN_PATH="$PYTHON_EXECUTABLE"
 
-- 
2.24.0.windows.2

