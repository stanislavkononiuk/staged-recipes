{% set name = "cmrt" %}
{% set version = "1.0.6" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/intel/{{ name }}/archive/{{ version }}.tar.gz
  fn: cmrt-{{ version }}.tar.gz
  sha256: ca22e905a2717fc740e703e65a0061a0e11f4ea513ba970bbc10b3bd6d28e6e0

build:
  skip: True  # [not linux]
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - autoconf
    - automake
    - libtool
    - pkg-config
  host:
    - libdrm
    - libva
  run:
    - libdrm
    - libva

test:
  commands:
    - test -f $PREFIX/include/cm_rt.h
    - test -f $PREFIX/include/cm_rt_linux.h

about:
  home: https://github.com/intel/cmrt
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: 'Media GPU kernel manager for Intel G45 & HD Graphics family'

  # The remaining entries in this section are optional, but recommended
  description: |
    Overview
    --------
    Target:
    One solution to expose Intel’s Gen GPU’s high performance through high
    level language.

    Features:
    Interface between host program and driver
    Manage Gen device
    Manage surfaces
    Manage media GPU kernels
    Manage events
    Manage threads
    Manage execution
    Prepare media GPU kernel arguments
    Transfer data between system and GPU memory
    Report errors

    User:
    Media and Graphics kernel developers.
    General purpose GPU computing developers.

    Components: CM runtime engine.

extra:
  recipe-maintainers:
    - hmaarrfk
