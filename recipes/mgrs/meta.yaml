{% set name = "mgrs" %}
{% set version = "1.3.4" %}  # [not win]
{% set version = "1.3.5" %}  # [win]

{% set pyver = "cp{}{}".format(PY_VER[0], PY_VER[2]) %}  # [win]
{% set platform = "win_amd64" %}  # [win]
{% set fn = "{}-{}-{}-{}m-{}.whl".format(name, version, pyver, pyver, platform) %}  # [win]

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ fn }}  # [win]
  url: https://github.com/hobu/{{ name }}/archive/{{ version }}.tar.gz  # [not win]
  sha256: a44f32b085220cf81c93fed180dc40b701ae98c2f3f30d3370f764dadd9f829a  # [not win]
  url: https://pypi.io/packages/60/30/a6daa50f2d16d16a44d6e358476d06819aa6032b541d2418143e7b54f4ef/{{ fn }}  # [win and py35]
  sha256: 113020ae5e6fb974856888f8798ff0da8710bb17b3ff177bfb12ca20c81bce88  # [win and py35]
  url: https://pypi.io/packages/38/23/d518958de5e2087c1bb37ec7d23957a5f77d39571da1a1f766ac8fa77187/{{ fn }}  # [win and py36]
  sha256: 5565c150ccba0c01dc36ca7ed419b8cbbe974d5167a11f04d31241082f6d596f  # [win and py36]
  url: https://pypi.io/packages/34/72/dbbd718dd311d1398786a32955e225b60ea65260f4af19807dee4ca94655/{{ fn }}  # [win and py37]
  sha256: b97039da9efa7c2e71e59a6063d083627b089496571e3f335580e83da6324c38  # [win and py37]

build:
  number: 0
  skip: True  # [win and vc<14]
  script: "{{ PYTHON }} -m pip install . -vv "

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
  host:
    - pip
    - python
    - setuptools
    - wheel
  run:
    - python

test:
  imports:
    - mgrs

about:
  home: https://github.com/hobu/mgrs
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: 'MGRS coordinate conversion for Python'
  dev_url: https://github.com/hobu/mgrs

extra:
  recipe-maintainers:
    - benhuff
    - oblute
    - rluria14
