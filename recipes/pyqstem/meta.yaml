{% set name = "pyqstem" %}
{% set version = "1.0.2" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 54dc45800334e886cd4e2bf4d8f8139b7f904c367895a350303767d1eca7eaa4

build:
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cython
  host:
    - fftw
    - numpy
    - python
    - setuptools
  run:
    - ase
    - fftw
    - matplotlib
    - numpy
    - python
    - scikit-image
    - scipy

test:
  imports:
    - pyqstem
    - pyqstem.util
    - pyqstem.potentials
    
about:
    description: 'QSTEM is a program for quantitative image simulation in
        electron microscopy, including TEM, STEM and CBED image simulation.

        This project interfaces the QSTEM code with Python and the
        Atomic Simulation Environment (ASE) to provide a single
        environment for building models, simulating and analysing
        images.

        '
    dev_url: https://github.com/jacobjma/PyQSTEM
    doc_url: https://github.com/jacobjma/PyQSTEM
    home: https://github.com/jacobjma/PyQSTEM
    license: GPLv3
    license_file: License.txt
    summary: A Python interface to the electron microscopy simulation program QSTEM.

extra:
  recipe-maintainers:
    - schiotz
