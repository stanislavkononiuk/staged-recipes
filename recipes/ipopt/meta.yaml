# Note: there are many handy hints in comments in this example -- remove them when you've finalized your recipe

# Jinja variables help maintain the recipe as you'll update the version only here.
{% set name = "Ipopt" %}
{% set version = "3.12.6" %}
{% set sha256 = "b1b04fb2aaf424464c00c939fdd0b4075614d8d689b7bbba3cbaedf4a4c997a5" %}
{% set variant = "openblas" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: http://www.coin-or.org/download/pkgsource/{{ name }}/{{ name }}-{{ version }}.tgz
  sha256: {{ sha256 }}

build:
  skip: True  # [win]
  number: 0
  features:
    - blas_{{ variant }}

requirements:
  build:
    - asl
    - mumps
    - gcc
    - blas 1.1 {{ variant }}
    - openblas 0.2.18|0.2.18.*

  run:
    - asl
    - mumps
    - gcc
    - blas 1.1 {{ variant }}
    - openblas 0.2.18|0.2.18.*

test:
  files:
    - Cpp_example
    - mytoy.nl

about:
  home: https://projects.coin-or.org/Ipopt/
  license: EPL
  license_file: LICENSE
  summary: Software package for large-scale nonlinear optimization'

extra:
  recipe-maintainers:
    - Peter St. John
