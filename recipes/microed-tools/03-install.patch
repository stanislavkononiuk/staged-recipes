Do not build the jiffies by default, they are not intended for
distribution.  img2px is a jiffy in this version.
--- tvips/CMakeLists.txt.orig
+++ tvips/CMakeLists.txt
@@ -251,6 +251,9 @@ endif()
 #
 # XXX Oddly have to give libm for dan_test, imgcorr, and
 # rawdump, but nothing else?
+set(BUILD_JIFFIES OFF CACHE BOOL
+  "Build MicroED developer jiffies, not for distribution")
+if(BUILD_JIFFIES)
 add_executable(cphdr
   "compat.c"
   "cphdr.c"
@@ -268,6 +271,7 @@ add_executable(dan_test
 add_dependencies(dan_test _update_version_h)
 target_compile_features(dan_test PRIVATE c_restrict)
 target_link_libraries(dan_test m ${ICONV_LIBRARIES})
+endif()
 
 add_executable(dumpframe
   "${FLEX_SLICE_OUTPUTS}"
@@ -283,12 +287,14 @@ add_dependencies(dumpframe _update_version_h)
 target_compile_features(dumpframe PRIVATE c_restrict cxx_constexpr)
 target_link_libraries(dumpframe ${ICONV_LIBRARIES} ${TIFF_LIBRARIES})
 
+if(BUILD_JIFFIES)
 add_executable(fixpoint
   "delta_t.cpp"
   "fixpoint.c")
 add_dependencies(fixpoint _update_version_h)
 target_compile_features(fixpoint PRIVATE cxx_constexpr)
 target_link_libraries(fixpoint fftw3)
+endif()
 
 add_executable(ht2wavelength
   "compat.c"
@@ -313,6 +319,7 @@ add_dependencies(idoc2smv _update_version_h)
 target_compile_features(idoc2smv PRIVATE c_restrict cxx_constexpr)
 target_link_libraries(idoc2smv ${ICONV_LIBRARIES} ${TIFF_LIBRARIES})
 
+if(BUILD_JIFFIES)
 add_executable(img2img
   "compat.c"
   "frame.c"
@@ -374,6 +381,7 @@ add_executable(mike_test
 add_dependencies(mike_test _update_version_h)
 target_compile_features(mike_test PRIVATE c_restrict)
 target_link_libraries(mike_test m ${ICONV_LIBRARIES})
+endif()
 
 add_executable(mrc2smv
   "${FLEX_SLICE_OUTPUTS}"
@@ -391,9 +399,11 @@ target_link_libraries(mrc2smv
   ${ICONV_LIBRARIES}
   ${TIFF_LIBRARIES})
 
+if(BUILD_JIFFIES)
 add_executable(rawdump
   "rawdump.c")
 target_link_libraries(rawdump m)
+endif()
 
 add_executable(ser2smv
   "${FLEX_SLICE_OUTPUTS}"
@@ -409,6 +419,7 @@ target_link_libraries(ser2smv
   ${ICONV_LIBRARIES}
   ${TIFF_LIBRARIES})
 
+if(BUILD_JIFFIES)
 add_executable(smv2pgm
   "compat.c"
   "frame.c"
@@ -428,6 +439,7 @@ add_executable(tiff2raw
 add_dependencies(tiff2raw _update_version_h)
 target_compile_features(tiff2raw PRIVATE c_restrict cxx_constexpr)
 target_link_libraries(tiff2raw ${ICONV_LIBRARIES} ${TIFF_LIBRARIES})
+endif()
 
 add_executable(tiff2smv
   "${FLEX_SLICE_OUTPUTS}"
@@ -592,19 +604,28 @@ add_custom_target(check
 # CMake is generating the build system.  If no documentation exists,
 # do nothing.
 install(
-  TARGETS tiff2smv tvips2smv
+  TARGETS
+    dumpframe
+    ht2wavelength
+    idoc2smv
+    mrc2smv
+    ser2smv
+    tiff2smv
+    tvips2smv
   DESTINATION bin)
 install(
   FILES
+    "${PROJECT_SOURCE_DIR}/ht2wavelength.1"
     "${PROJECT_SOURCE_DIR}/tiff2smv.1"
     "${PROJECT_SOURCE_DIR}/tvips2smv.1"
-  DESTINATION "${CMAKE_INSTALL_FULL_MANDIR}/man1"
+  DESTINATION "${CMAKE_INSTALL_MANDIR}/man1"
   OPTIONAL)
 install(
   FILES
+    "${PROJECT_BINARY_DIR}/ht2wavelength.1"
     "${PROJECT_BINARY_DIR}/tiff2smv.1"
     "${PROJECT_BINARY_DIR}/tvips2smv.1"
-  DESTINATION "${CMAKE_INSTALL_FULL_MANDIR}/man1"
+  DESTINATION "${CMAKE_INSTALL_MANDIR}/man1"
   OPTIONAL)
 
 
