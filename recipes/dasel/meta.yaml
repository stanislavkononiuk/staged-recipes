{% set name = "dasel" %}
{% set author = "TomWright" %}
{% set version = "1.24.1" %}
{% set pkg_src = 'src/' + name %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  folder: {{ pkg_src }}
  url: https://github.com/{{ author }}/{{ name }}/archive/refs/tags/v{{ version }}.tar.gz
  sha256: ca1fa030f41abcd3659e76d7413ce14c551f40d41769e7a000a46f4fea6d0b64

build:
  number: 0
  script:
    - cd {{ pkg_src }}/cmd/dasel
    - go install -v
    - cd {{ pkg_src }}
    - go test -v

requirements:
  build:
    - {{ compiler('go') }}

test:
  commands:
    - {{ name }} --help

about:
  home: https://github.com/{{ author }}/{{ name }}
  license: MIT
  license_file: LICENSE
  summary: |
    Dasel (short for data-selector) allows you to query and modify data structures
    using selector strings.
  description: |
    Select, put and delete data from JSON, TOML, YAML, XML and CSV files with a single
    tool. Supports conversion between formats and can be used as a Go package.
  dev_url: https://github.com/{{ author }}/{{ name }}

extra:
  recipe-maintainers:
    - maresb
