{% set name = "fluiddyn" %}
{% set version = "0.3.1" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 488dcc8cd1660fd6eed939defeb21250114b5de9c94cc1d979136ea439789b33

build:
  number: 0
  entry_points:
    - fluidinfo = fluiddyn.util.info:main
    - fluidnbstripout = fluiddoc.fluidnbstripout:main
    - fluiddocset = fluiddoc.fluiddocset:main
    - fluiddump = fluiddyn.io.dump:main
    - fluidmat2py = fluiddyn.util.matlab2py:main
    - fluidcluster-help = fluiddyn.clusters:print_help_scheduler
  script: "{{ PYTHON }} -m pip install .[full] --no-deps --ignore-installed -vv "
  skip: true  # [py<35]

requirements:
  host:
    - pip
    - python
  run:
    - python
    - numpy
    - psutil  >=5.2.1
    - six
    - h5py
    - nbstripout

test:
  imports:
    - fluiddoc
    - fluiddyn
    - fluiddyn.calcul
    - fluiddyn.calcul.test
    - fluiddyn.clusters
    - fluiddyn.clusters.test
    - fluiddyn.io
    - fluiddyn.io.test
    - fluiddyn.output
    - fluiddyn.output.test
    - fluiddyn.util
    - fluiddyn.util.matlab2py
    - fluiddyn.util.matlab2py.test
    - fluiddyn.util.test
  commands:
    - fluidinfo --help
    - fluidnbstripout --help
    - fluiddocset --help
    - fluiddump --help
    - fluidmat2py --help
    - fluidcluster-help --help

about:
  home: https://bitbucket.org/fluiddyn/fluiddyn
  license: CeCILL-B
  license_family: BSD
  license_file: LICENSE.txt 
  summary: Summary of the package
  doc_url: https://fluiddyn.readthedocs.io  
  dev_url: 

extra:
  recipe-maintainers:
    - your-github-id-here
