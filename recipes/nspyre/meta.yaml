{% set name = "nspyre" %}
{% set version = "0.3.0rc1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  # url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  url: https://github.com/nspyre-org/nspyre/archive/v0.3.0.rc1.tar.gz
  sha256: e09596836871d5ab993e270971c7287dbb128614977bb6caf81fc2e9bf67f68d

build:
  noarch: python
  number: 0
  entry_points:
    - nspyre = nspyre.gui:main
  script: {{ PYTHON }} -m pip install . -vv
  skip: True

requirements:
  host:
    - python >=3.8
    - pip
  run:
    - python >=3.8
    - pip
    - git
    - hub
    # SciPy
    - numpy >=1.19.1
    - scipy >=1.5.2
    - pandas >=1.1.1
    # MongoDB
    - defaults::mongodb =4.2.*
    - pymongo >=3.10.1
    # Qt
    - pyqt >=5.12.3
    - pyqtgraph >=0.11.0
    # VISA
    - pyvisa >=1.10.1
    # Lantz
    - pint >=0.15
    - lantz >=0.5.3
    # Utilities
    - parse >=1.17.0
    - tqdm >=4.48.2
    - waiting
    - rpyc >=4.1.5

test:
  imports:
    - nspyre
    - nspyre.config
    - nspyre.gui
    - nspyre.gui.widgets
    - nspyre.inserv
    - nspyre.spyrelet
    - nspyre.utils
  commands:
    - pip check
    - nspyre --help
  requires:
    - pip

about:
  home: https://github.com/nspyre-org/nspyre
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE
  summary: 'Pythonic Networked Scientific Experimentation Toolkit'

  description: |
    NSpyre is a Python Framework for conducting physics experiments.
    It uses a networked approach to allow for the running of experiments 
    using distributed equipment over many networked systems. The 
    experimental hardware being controlled can thus be connected to 
    different computers, which can in turn be controlled by another 
    machine running the experimental commands. This allows for the easy 
    integration of shared resources in a research environment.
  doc_url: https://nspyre.readthedocs.io/
  dev_url: https://github.com/nspyre-org/nspyre

extra:
  recipe-maintainers:
    - mtsolmn
    - jacobfeder
