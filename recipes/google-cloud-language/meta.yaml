{% set name = "google-cloud-language" %}
{% set version = "1.2.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: a1a7223215c3cd94dc6bffb46da560b55231a776438a7420b533023f376e7258

build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install . --no-deps --ignore-installed --verbose"

requirements:
  host:
    - python <3.5
    - pip >=18.1
    - enum34 >=1.1.6
    - google-api-core >=1.6.0,<2.0.0dev
    - grpcio >=1.8.2
  run:
    - python <3.5
    - {{ pin_compatible('enum34') }}
    - {{ pin_compatible('google-api-core', min_pin='x', max_pin='x') }}
    - {{ pin_compatible('grpcio') }}

test:
  imports:
    - enum
    - google.api
    - google.api_core
    - google.cloud
    - google.cloud.language
    - google.cloud.language_v1
    - google.cloud.language_v1.gapic
    - google.cloud.language_v1.gapic.enums
    - google.cloud.language_v1.gapic.language_service_client
    - google.cloud.language_v1.gapic.language_service_client_config
    - google.cloud.language_v1.gapic.transports
    - google.cloud.language_v1.gapic.transports.language_service_grpc_transport
    - google.cloud.language_v1.proto
    - google.cloud.language_v1.proto.language_service_pb2
    - google.cloud.language_v1.proto.language_service_pb2_grpc
    - google.cloud.language_v1.types
    - google.oauth2
    - google.protobuf
    - grpc

about:
  home: https://github.com/googleapis/google-cloud-python/tree/master/language
  license: Apache 2.0
  license_family: APACHE
  summary: 'Google Cloud Natural Language API client library'

  description: |
    The Google Cloud Natural Language API can be used to reveal the structure
    and meaning of text via powerful machine learning models. You can use it
    to extract information about people, places, events and much more, mentioned
    in text documents, news articles or blog posts. You can use it to understand
    sentiment about your product on social media or parse intent from customer
    conversations happening in a call center or a messaging app. You can analyze
    text uploaded in your request or integrate with your document storage on
    Google Cloud Storage.

  doc_url: https://googleapis.github.io/google-cloud-python/latest/language/index.html
  dev_url: https://github.com/googleapis/google-cloud-python

extra:
  recipe-maintainers:
    - BrentDorsey
