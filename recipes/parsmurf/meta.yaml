# Note: there are many handy hints in comments in this example -- remove them when you've finalized your recipe

# Jinja variables help maintain the recipe as you'll update the version only here.
# Using the name variable with the URL in line 14 is convenient
# when copying and pasting from another recipe, but not really needed.
{% set name = "parSMURF" %}
{% set version = "1.0.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/AnacletoLAB/{{ name }}/releases/download/v{{ version }}/{{ name }}-{{ version }}.tar.gz
  sha256: 426013313b22d8fdd0db907e920e869347fb53e9e25cd59f07adc4b2eaf51ad7

build:
  skip: true  # [win]
  number: 0

requirements:
  build:
    # If your project compiles code (such as a C extension) then add the required compilers as separate entries here.
    # Compilers are named 'c', 'cxx' and 'fortran'.
    - {{ compiler('cxx') }}
    - cmake >=2.8
  host:
    - numpy ==1.13.0
    - scipy ==1.2.1
    - weave ==0.17.0
    - six ==1.12.0
    - protobuf ==3.7.1
    - openmpi
  run:
    - numpy ==1.13.0
    - scipy ==1.2.1
    - weave ==0.17.0
    - six ==1.12.0
    - protobuf ==3.7.1
    - openmpi

test:
  files:
    - parSMURF1
  commands:
    - parSMURF1 --help
    - parSMURF1 --cfg ../cfgEx/simulCV.json

about:
  home: https://github.com/AnacletoLAB/parSMURF
  license: GPL-3.0
  license_family: GPL
  # It is strongly encouraged to include a license file in the package,
  # (even if the license doesn't require it) using the license_file entry.
  # See https://docs.conda.io/projects/conda-build/en/latest/resources/define-metadata.html#license-file
  license_file: LICENSE
  summary: 'A High Performance Computing imbalance-aware machine learning tool for the genome-wide detection of pathogenic variants.'
  doc_url: https://github.com/AnacletoLAB/parSMURF/blob/master/readme.MD
  dev_url: https://github.com/AnacletoLAB/parSMURF

extra:
  recipe-maintainers:
    - visze
