{% set name = "jaeger" %}
{% set version = "1.14.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{name }}-{{ version }}-darwin-amd64.tar.gz  # [osx]
  url: https://github.com/jaegertracing/{{ name }}/releases/download/v{{ version }}/{{name }}-{{ version }}-darwin-amd64.tar.gz  # [osx]
  sha256: 06046f509b6a72de2144a12426be835f5c3903939a6337a70b6dc524cac7bd47 # [osx]

  fn: {{name }}-{{ version }}-linux-amd64.tar.gz  # [linux64]
  url: https://github.com/jaegertracing/{{ name }}/releases/download/v{{ version }}/{{name }}-{{ version }}-linux-amd64.tar.gz  # [linux64]
  sha256: aa1764b8cb5a0cbdb128f3403e25b1fad240734da20460ec13ac89674abe3d8b # [linux64]

  fn: {{name }}-{{ version }}-windows-amd64.tar.gz  # [win64]
  url: https://github.com/jaegertracing/{{ name }}/releases/download/v{{ version }}/{{name }}-{{ version }}-windows-amd64.tar.gz  # [win64]
  sha256: 6623f496b6d0ac17158a3d2eac07616a40df794dcfbd84070f29d7218c17ff81  # [win64]

build:
  number: 0

test:
  commands:
    - jaeger-all-in-one --help 2>&1 >/dev/null | grep 'Usage'  # [not win]
    - jaeger-all-in-one.exe --help 2>&1 | FINDSTR /b "Usage"  # [win]

about:
  home: https://www.jaegertracing.io/
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE
  summary: 'CNCF Jaeger, a Distributed Tracing Platform'

  description: |
    Jaeger, inspired by Dapper and OpenZipkin, is a distributed tracing system released as open source by Uber Technologies.
    It is used for monitoring and troubleshooting microservices-based distributed systems.
  doc_url: https://www.jaegertracing.io/docs/{{ version}}/
  dev_url: https://github.com/jaegertracing/{{ name }}

extra:
  recipe-maintainers:
    - saulshanabrook
