{% set name = "pseudo_dojo" %}
{% set version = "0.3" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/abinit/pseudo_dojo/archive/v{{ version }}.tar.gz
  sha256: 8330a8b4dba96caca62be4f0fcd2fa869bdd103806630c2da9ee19932512ea10
  patches:
    - pymatgen.patch

build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  host:
    - python
    - pip
  run:
    - python
    - six
    - numpy
    - scipy
    - tabulate
    - pandas
    - jsonschema
    - atomicfile
    - periodic-table-plotter
    - monty
    - ipython
    - nbformat
    - matplotlib-base
    - pymatgen =2019.10.3
    - abipy >=0.2.0

test:
  imports:
    - pseudo_dojo

about:
  home: http://www.pseudo-dojo.org/
  license: GPL-3.0-or-later
  license_family: GPL
  license_file: LICENSE
  summary: 'Python framework for generating and validating pseudo potentials'

  description: |
    PseudoDojo is an open-source Python framework for generating and 
    validating pseudopotentials. It uses the AbiPy package, for developing 
    and systematically testing pseudopotentials. At present it contains 
    seven different batteries of tests executed with ABINIT (delta-gauge, 
    revised delta gauge by Jollet et al, GBRV tests for fcc/bcc/compounds, 
    phonons at the Gamma point and tests for the presence of ghost-states 
    below and above the Fermi level).
  doc_url: https://github.com/abinit/pseudo_dojo
  dev_url: https://github.com/abinit/pseudo_dojo

extra:
  recipe-maintainers:
    - jan-janssen
