{% set name = "causalml" %}
{% set version = "0.12.2" %}


package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/causalml-{{ version }}.tar.gz
  sha256: 1a5216ee58522cce725907b005bf93232eb311929b36a20fbf8ee341b5781ebb

build:
  number: 0
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv

requirements:
  build:
    - {{ compiler('c') }}
  host:
    - pip
    - pytest
    - python >=3.6
    - cython ==0.29.23
    - setuptools >=41.0.0
    - numpy >=1.18.5
    - scikit-learn >=0.22.0
    - graphviz
  run:
    - python >=3.6
    - setuptools >=41.0.0
    - pip >=10.0
    - numpy >=1.18.5
    - scipy >=1.4.1
    - matplotlib-base
    - pandas >=0.24.1
    - scikit-learn >=0.22.0
    - statsmodels >=0.9.0
    - seaborn
    - cython ==0.29.23
    - xgboost
    - pydotplus
    - tqdm
    - shap <0.38.1
    - dill
    - lightgbm
    - pygam
    - packaging
    - pytorch
    - pyro-ppl
    - graphviz

test:
  imports:
    - causalml
    - causalml.inference.meta
  commands:
    - pip check
  requires:
    - pip

about:
  home: http://causalml.readthedocs.io/en/latest/?badge=latest
  summary: Causal ML is a Python package that provides a suite of uplift modeling and causal inference methods using machine learning algorithms based on recent research. It provides a standard interface that allows user to estimate the **Conditional Average Treatment Effect** (CATE) or **Individual Treatment Effect** (ITE) from experimental or observational data.
  license: Apache-2.0
  license_file: LICENSE
  description: |
    <a href="https://github.com/uber/causalml">
      <img src="https://raw.githubusercontent.com/uber/causalml/master/docs/_static/img/logo/causalml_logo.png" alt="CausalML banner" />
    </a>

    ``Causal ML`` is a Python package that provides a suite of uplift modeling and causal inference methods using machine learning algorithms based on recent research.
    It provides a standard interface that allows user to estimate the **Conditional Average Treatment Effect** (CATE) or **Individual Treatment Effect** (ITE) from experimental or observational data.
    Essentially, it estimates the causal impact of intervention **T** on outcome **Y** for users with observed features **X**, without strong assumptions on the model form.

    Typical use cases include:

    - **Campaign Targeting Optimization**: An important lever to increase ROI in an advertising campaign is to target the ad to the set of customers who will have a favorable response in a given KPI such as engagement or sales. CATE identifies these customers by estimating the effect of the KPI from ad exposure at the individual level from A/B experiment or historical observational data.
    - **Personalized Engagement**: Company has multiple options to interact with its customers such as different product choices in up-sell or messaging channels for communications. One can use CATE to estimate the heterogeneous treatment effect for each customer and treatment option combination for an optimal personalized recommendation system.

    The package currently supports the following methods:

    - Tree-based algorithms
        - :ref:`Uplift Random Forests <Uplift Tree>` on KL divergence, Euclidean Distance, and Chi-Square
        - :ref:`Uplift Random Forests <Uplift Tree>` on Contextual Treatment Selection
        - :ref:`Uplift Random Forests <Uplift Tree>` on delta-delta-p (:math:`\Delta\Delta P`) criterion (only for binary trees and two-class problems)
    - Meta-learner algorithms
        - :ref:`S-learner`
        - :ref:`T-learner`
        - :ref:`X-learner`
        - :ref:`R-learner`
        - :ref:`Doubly Robust (DR) learner`
    - Instrumental variables algorithms
        - :ref:`2-Stage Least Squares (2SLS)`
        - :ref:`Doubly Robust Instrumental Variable (DRIV) learner`
    - Neural network based algorithms
        - CEVAE
        - DragonNet
    - Treatment optimization algorithms
        - :ref:`Counterfactual Unit Selection`
        - :ref:`Counterfactual Value Estimator`

    PyPI: [(https://pypi.org/project/causalml/]((https://pypi.org/project/causalml/)
  doc_url: http://causalml.readthedocs.io/en/latest/?badge=latest
  dev_url: https://github.com/uber/causalml

extra:
  recipe-maintainers:
    - ppstacy
