From f5cf55495a3f676e51cd4f40d0833eb959d0b27c Mon Sep 17 00:00:00 2001
From: Marco Bonifacio <bonifacio.marco@gmail.com>
Date: Wed, 23 Feb 2022 08:41:33 +0100
Subject: [PATCH] Add entry points

---
 jsonlint => jsonlint.py | 8 ++++++--
 setup.py                | 7 +++++--
 2 files changed, 11 insertions(+), 4 deletions(-)
 rename jsonlint => jsonlint.py (96%)
 mode change 100755 => 100644

diff --git a/jsonlint b/jsonlint.py
old mode 100755
new mode 100644
similarity index 96%
rename from jsonlint
rename to jsonlint.py
index 96f7c99..cc586af
--- a/jsonlint
+++ b/jsonlint.py
@@ -40,7 +40,11 @@ except ImportError:
     sys.exit(1)
 
 
-if __name__ == '__main__':
+def main():
     lint = demjson3.jsonlint(program_name=sys.argv[0])
     rc = lint.main( sys.argv[1:] )
-    sys.exit(rc)
+    sys.exit(rc)    
+
+
+if __name__ == '__main__':
+    main()
diff --git a/setup.py b/setup.py
index 7f076a5..2f394b8 100644
--- a/setup.py
+++ b/setup.py
@@ -16,8 +16,11 @@ with open(path.join(here, "README.md"), encoding="utf-8") as f:
 setup(
     name=name,
     version=version,
-    py_modules=[name],
-    scripts=["jsonlint"],
+    py_modules=[name, 'jsonlint'],
+    entry_points={
+        'console_scripts': [
+            'jsonlint = jsonlint:main'
+         ]},
     author="Deron Meranda",
     author_email="deron.meranda@gmail.com",
     description="encoder, decoder, and lint/validator for JSON (JavaScript Object Notation) compliant with RFC 7159",
-- 
2.30.0.windows.2

