{% set name = "gcm-filters" %}
{% set version = "0.1.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 55d6095e800c68fb2de34336270e06699b282d3c30e0bff98c72d82b2b5eda9b
build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  host:
    - python >=3.6
    - pip
  run:
    - python >=3.6
    - dask
    - scipy
    - xarray

test:
  imports:
    - gcm_filters
  commands:
    - pip check
  requires:
    - pip

about:
  home: https://github.com/ocean-eddy-cpt/gcm-filters
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE.txt
  summary: 'Diffusion-based Spatial Filtering of Gridded Data from General Circulation Models'
  description: |
    GCM-Filters is a python package that performs spatial filtering analysis in a flexible and efficient way.
    The GCM-Filters algorithm applies a discrete Laplacian to smooth a field through an iterative process that
    resembles diffusion (Grooms et al., 2021 <https://doi.org/10.1002/essoar.10506591.1>). The package is
    specifically designed to work with gridded data that is produced by General Circulation Models (GCMs)
    of ocean, weather, and climate. Such GCM data come on complex curvilinear grids, whose geometry is
    respected by the GCM-Filters Laplacians. Through integration with dask <https://dask.org/>, GCM-Filters
    enables parallel, out-of-core filter analysis on both CPUs and GPUs.
  doc_url: https://gcm-filters.readthedocs.io/en/latest/
  dev_url: https://github.com/ocean-eddy-cpt/gcm-filters

extra:
  recipe-maintainers:
    - rabernat
    - NoraLoose
    - iangrooms
