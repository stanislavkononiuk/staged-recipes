# Jinja variables help maintain the recipe as you'll update the version only here.
# Using the name variable with the URL in line 14 is convenient
# when copying and pasting from another recipe, but not really needed.
{% set name = "glasbey" %}
{% set version = "0.1.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: f6bd5e539c12edfa1ec939a4ea00410348eecfa0a96aa72179c30d30ae59a1e2

build:
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv
  number: 0

requirements:
  host:
    - python >=3.10
    - numpy >=1.22
    - numba >=0.56
    - matplotlib-base >=3.5
    - colorspacious
    - pip
  run:
    - python >=3.10
    - numpy >=1.22
    - numba >=0.56
    - matplotlib-base >=3.5
    - colorspacious
    
test:
  imports:
    - glasbey
    - glasbey.tests
  # For python packages, it is useful to run pip check. However, sometimes the
  # metadata used by pip is out of date. Thus this section is optional if it is
  # failing.
  requires:
    - pip
  commands:
    - pip check

about:
  home: https://github.com/lmcinnes/glasbey
  summary: 'Algorithmically generate categorical colour palettes for Python'
  description: |
    The glasbey library allows for the algorithmic creation of colour palettes designed for 
    use with categorical data using techniques from the paper Colour Displays for Categorical Images 
    by Glasbey, Heijden, Toh and Gray. You don't need to worry about the technical details 
    however -- the glasbey library is easy to use.
  license: MIT
  # The license_family, i.e. "BSD" if license is "BSD-3-Clause". 
  # Optional
  license_family: MIT
  # It is required to include a license file in the package,
  # (even if the license doesn't require it) using the license_file entry.
  # Please also note that some projects have multiple license files which all need to be added using a valid yaml list.
  # See https://docs.conda.io/projects/conda-build/en/latest/resources/define-metadata.html#license-file
  license_file: LICENSE
  doc_url: https://glasbey.readthedocs.io/
  dev_url: https://github.com/lmcinnes/glasbey

extra:
  recipe-maintainers:
    - lmcinnes
