{% set name = "spotipy" %}
{% set version = "2.16.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 4564a6b05959deb82acc96a3fe6883db1ad9f8c73b7ff3b9f1f44db43feba0b8

build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  host:
    - python
    - pip
  run:
    - python
    - requests >=2.20.0
    - six >=1.10.0

test:
  imports:
    - spotipy
  commands:
    - pip check
  requires:
    - pip

about:
  home: https://spotipy.readthedocs.org/
  license: MIT
  license_family: MIT
  license_file: LICENSE.md
  summary: 'A light weight Python library for the Spotify Web API'
  description: |
    # Spotipy
        
        ##### A light weight Python library for the Spotify Web API
        
        ![Tests](https://github.com/plamere/spotipy/workflows/Tests/badge.svg?branch=master) [![Documentation Status](https://readthedocs.org/projects/spotipy/badge/?version=latest)](https://spotipy.readthedocs.io/en/latest/?badge=latest)
        
        ## Documentation
        
        Spotipy's full documentation is online at [Spotipy Documentation](http://spotipy.readthedocs.org/).
        
        ## Installation
        
        ```bash
        pip install spotipy
        ```
        
        or upgrade
        
        ```bash
        pip install spotipy --upgrade
        ```
        
        ## Quick Start
        
        A full set of examples can be found in the [online documentation](http://spotipy.readthedocs.org/) and in the [Spotipy examples directory](https://github.com/plamere/spotipy/tree/master/examples).
        
        To get started, install spotipy and create an app on https://developers.spotify.com/.
        Add your new ID and SECRET to your environment:
        
        ### Without user authentication
        
        ```python
        import spotipy
        from spotipy.oauth2 import SpotifyClientCredentials
        
        sp = spotipy.Spotify(auth_manager=SpotifyClientCredentials(client_id="YOUR_APP_CLIENT_ID",
                                                                   client_secret="YOUR_APP_CLIENT_SECRET"))
        
        results = sp.search(q='weezer', limit=20)
        for idx, track in enumerate(results['tracks']['items']):
            print(idx, track['name'])
        ```
        
        ### With user authentication
        
        ```python
        import spotipy
        from spotipy.oauth2 import SpotifyOAuth
        
        sp = spotipy.Spotify(auth_manager=SpotifyOAuth(client_id="YOUR_APP_CLIENT_ID",
                                                       client_secret="YOUR_APP_CLIENT_SECRET",
                                                       redirect_uri="YOUR_APP_REDIRECT_URI",
                                                       scope="user-library-read"))
        
        results = sp.current_user_saved_tracks()
        for idx, item in enumerate(results['items']):
            track = item['track']
            print(idx, track['artists'][0]['name'], " – ", track['name'])
        ```
        
        ## Reporting Issues
        
        For common questions please check our [FAQ](FAQ.md).
        
        You can ask questions about Spotipy on
        [Stack Overflow](http://stackoverflow.com/questions/ask).
        Don’t forget to add the *Spotipy* tag, and any other relevant tags as well, before posting.
        
        If you have suggestions, bugs or other issues specific to this library,
        file them [here](https://github.com/plamere/spotipy/issues).
        Or just send a pull request.
  doc_url: http://spotipy.readthedocs.org/
  dev_url: https://github.com/plamere/spotipy/

extra:
  recipe-maintainers:
    - captivus
