{% set version = '3.0.0' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-listviewer
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/listviewer_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/listviewer/listviewer_{{ version }}.tar.gz
  sha256: 197588374f1f4c12895e728edee96bdbdefa18b60622e3840183405464eb397e

build:
  merge_build_host: True  # [win]
  number: 0
  noarch: generic
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-base
    - r-htmltools
    - r-htmlwidgets
    - r-shiny
  run:
    - r-base
    - r-htmltools
    - r-htmlwidgets
    - r-shiny

test:
  commands:
    - $R -e "library('listviewer')"           # [not win]
    - "\"%R%\" -e \"library('listviewer')\""  # [win]

about:
  home: https://github.com/timelyportfolio/listviewer
  license: MIT
  summary: R lists, especially nested lists, can be very difficult to visualize or represent.
    Sometimes 'str()' is not enough, so this suite of htmlwidgets is designed to help
    see, understand, and maybe even modify your R lists.  The function 'reactjson()'
    requires a package 'reactR' that can be installed from CRAN or <https://github.com/timelyportfolio/reactR>.
  license_family: MIT
  license_file:
    - {{ environ["PREFIX"] }}/lib/R/share/licenses/MIT
    - LICENSE

extra:
  recipe-maintainers:
    - conda-forge/r
