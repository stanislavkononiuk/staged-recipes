{% set name = "sceptre" %}
{% set version = "2.1.5" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: "https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz"
  sha256: "326bf1366420fc34455bb9c9f2e83b409ca13c977d430ec88654728fc6ba450f"

build:
  number: 0
  entry_points:
    - sceptre = sceptre.cli:cli
  script: "{{ PYTHON }} -m pip install . --no-deps --ignore-installed -vv "

requirements:
  host:
    - boto3 >=1.3,<2.0
    - click >=7.0
    - colorama >=0.3.9
    - jinja2 >=2.8,<3
    - networkx >=2.1
    - packaging >=16.8
    - pip
    - python
    - pyyaml >=5.1,<6.0
    - setuptools
    - six >=1.11.0,<2.0.0
  run:
    - boto3 >=1.3,<2.0
    - click >=7.0
    - colorama >=0.3.9
    - jinja2 >=2.8,<3
    - networkx >=2.1
    - packaging >=16.8
    - python
    - pyyaml >=5.1,<6.0
    - setuptools
    - six >=1.11.0,<2.0.0

test:
  imports:
    - sceptre
    - sceptre.cli
    - sceptre.config
    - sceptre.hooks
    - sceptre.plan
    - sceptre.resolvers
  commands:
    - sceptre --help
  requires:
    - behave >=1.2.5
    - freezegun >=0.3.12
    - mock >=2.0.0
    - moto >=1.3.8
    - pytest >=3.2
    - troposphere

about:
  home: https://github.com/cloudreach/sceptre
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE
  summary: "Cloud Provisioning Tool"
  description: |
   Sceptre is a tool to drive CloudFormation. Sceptre manages the creation,
   update and deletion of stacks while providing meta commands which allow
   users to retrieve information about their stacks.

  doc_url: "https://sceptre.cloudreach.com/2.1.5/"
  dev_url: "https://github.com/Sceptre/sceptre"

extra:
  recipe-maintainers:
    - adbeda
