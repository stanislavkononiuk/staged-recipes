{% set name = "skijumpdesign" %}
{% set version = "1.0.0" %}
{% set sha256 = "46f8b1ab57b89438f996f78538e8d81a7494157ebe66915d510445c96496e499" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  script: python -m pip install --no-deps --ignore-installed .
  noarch: python

requirements:
  build:
    - python >=3.5
    - setuptools
    - pip
  run:
    - python
    - setuptools
    - numpy
    - scipy >=1.0
    - matplotlib
    - sympy
    - cython
    - fastcache
    - plotly
    - flask
    - dash
    - dash-html-components
    - dash-core-components
    # - dash-renderer  # dash dep, oddly not included in dash/setup.py
    # - nbformat  # plotly dep, oddly not included in conda dep
    # - jupyter_core  # plotly dep, oddly not included in conda dep

test:
  imports:
    - skijumpdesign
    - skijumpdesign.functions
    - skijumpdesign.skiers
    - skijumpdesign.surfaces
    - skijumpdesign.trajectories
    - skijumpdesign.utils

about:
  home: https://skijumpdesign.herokuapp.com
  dev_url: https://gitlab.com/moorepants/skijumpdesign
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: 'Ski Jump Design Tool For Specified Equivalent Fall Height'
  description: |
    A ski jump design tool for equivalent fall height based on the work
    presented in Levy, Dean, Mont Hubbard, James A. McNeil, and Andrew Swedberg.
    "A Design Rationale for Safer Terrain Park Jumps That Limit Equivalent Fall
    Height." Sports Engineering 18, no. 4 (December 2015): 227â€“39.
    https://doi.org/10.1007/s12283-015-0182-6. Includes a library for 2D skiing
    simulations and a graphical web application for designing ski jumps. It is
    written in Python backed by NumPy, SciPy, SymPy, Cython, matplotlib,
    Plotly, and Dash.
extra:
  recipe-maintainers:
    - moorepants
