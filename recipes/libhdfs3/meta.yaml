{% set version = "2.2.31" %}

package:
  name: libhdfs3
  version: "{{ version }}"

source:
    git_url: https://github.com/PivotalRD/libhdfs3.git
    git_tag: v{{ version }}

build:
  number: 0
  # This package is a dependency of hdfs3, which is primarily used with HDFS on Linux.
  skip: True  # [not linux]

requirements:
    build:
        - protobuf
        - libgsasl
        - libntlm
        - libxml2
        - krb5
        - boost ==1.60
        - cmake
    run:
        - protobuf
        - libgsasl
        - libntlm
        - libxml2
        - krb5
        - boost ==1.60

test:
  commands:
    - test -f $PREFIX/include/hdfs.h
    - test -f $PREFIX/lib/libhdfs3.a
    - test -f $PREFIX/lib/libhdfs3.so
    - test -f $PREFIX/lib/libhdfs3.so.1
    - test -f $PREFIX/lib/pkgconfig/libhdfs3.pc

about:
  home: https://github.com/PivotalRD/libhdfs3
  license: Apache 2.0
  summary: A Native C/C++ HDFS Client

extra:
  recipe-maintainers:
    - koverholt
