{% set version = '1.9-2' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-maptpx
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/maptpx_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/maptpx/maptpx_{{ version }}.tar.gz
  sha256: d29d87dfd29d78a563a35630fec9897ed180a505c9ee35693f5153f06495adc4

build:
  merge_build_host: True  # [win]
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ compiler('c') }}        # [not win]
    - {{native}}toolchain        # [win]
    - {{posix}}filesystem        # [win]
    - {{posix}}make
    - {{posix}}sed               # [win]
    - {{posix}}coreutils         # [win]
    - {{posix}}zip               # [win]
  host:
    - r-base
    - r-slam
  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-slam

test:
  commands:
    - $R -e "library('maptpx')"           # [not win]
    - "\"%R%\" -e \"library('maptpx')\""  # [win]

about:
  home: http://faculty.chicagobooth.edu/matt.taddy/index.html
  license: GPL-3
  summary: Posterior maximization for topic models (LDA) in text analysis, as described in Taddy
    (2012) `on estimation and selection for topic models'.  Previous versions of this
    code were included as part of the textir package.  If you want to take advantage
    of openmp parallelization, uncomment the relevant flags in src/MAKEVARS before compiling.
  license_family: GPL3
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - johanneskoester
    - bgruening
    - daler
    - jdblischak
    - cbrueffer
    - dbast

# Package: maptpx
# Title: MAP Estimation of Topic Models
# Version: 1.9-2
# Author: Matt Taddy <taddy@chicagobooth.edu>
# Depends: R (>= 2.10), slam
# Suggests: MASS
# Description: Posterior maximization for topic models (LDA) in text analysis, as described in Taddy (2012) `on estimation and selection for topic models'.  Previous versions of this code were included as part of the textir package.  If you want to take advantage of openmp parallelization, uncomment the relevant flags in src/MAKEVARS before compiling.
# Maintainer: Matt Taddy <taddy@chicagobooth.edu>
# License: GPL-3
# URL: http://faculty.chicagobooth.edu/matt.taddy/index.html
# NeedsCompilation: yes
# Packaged: 2015-04-01 17:48:28 UTC; taddy
# Repository: CRAN
# Date/Publication: 2015-04-02 00:15:42
