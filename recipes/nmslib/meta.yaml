{% set name = "nmslib" %}
{% set version = "2.0.5" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://files.pythonhosted.org/packages/8b/ae/168a8cecf02531b06140d66bdd6e3f05c3fa668ccb5f77369c37e31009eb/nmslib-2.0.5.tar.gz
  sha256: 6a72b132b4b7fe7d697767005c69bc66c8fbc83dbba2d07109c0da29c0f00353

build:
  number: 0
  skip: True  # [py27 or osx]
  script: "pip install --no-binary :all: --no-deps -vv ."

requirements:
  build:
    - {{ compiler('cxx') }} 
    - python
    - python-dev
    - pip
    
  host:
    - python 
    - python-dev 
    - setuptools
    - pybind11
    - pip

  run:
    - python
    - numpy >=1.10.0
    - pybind11 >=2.2.3

test:
  imports:
    - nmslib

about:
  home: https://github.com/searchivarius/nmslib
  summary: Non-Metric Space Library (NMSLIB)
  license: Apache 2.0
  license_file: LICENSE

extra:
  recipe-maintainers:
    - jzthree
