{% set version = '0.1.6' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-tsstudio
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/TSstudio_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/TSstudio/TSstudio_{{ version }}.tar.gz
  sha256: 9a6c68b082163e05cf332aec2365850a9b7732afbf172160cb4225f63ad185e4

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: devtools, DT, knitr, quantmod, rmarkdown, UKgrid
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rcolorbrewer >=1.1_2
    - r-data.table >=1.11.2
    - r-dplyr >=0.7.5
    - r-forecast >=8.2
    - r-forecasthybrid >=2.0.10
    - r-future >=1.10.0
    - r-future.apply >=1.0.1
    - r-lubridate >=1.6.0
    - r-magrittr >=1.5
    - r-plotly >=4.7.1
    - r-purrr >=0.2.5
    - r-reshape2 >=1.4.2
    - r-scales >=1.0.0
    - r-tidyr >=0.8.1
    - r-tsibble >=0.8.2
    - r-viridis >=0.5.1
    - r-xts >=0.12_0
    - r-zoo >=1.8_0

  run:
    - r-base
    - r-rcolorbrewer >=1.1_2
    - r-data.table >=1.11.2
    - r-dplyr >=0.7.5
    - r-forecast >=8.2
    - r-forecasthybrid >=2.0.10
    - r-future >=1.10.0
    - r-future.apply >=1.0.1
    - r-lubridate >=1.6.0
    - r-magrittr >=1.5
    - r-plotly >=4.7.1
    - r-purrr >=0.2.5
    - r-reshape2 >=1.4.2
    - r-scales >=1.0.0
    - r-tidyr >=0.8.1
    - r-tsibble >=0.8.2
    - r-viridis >=0.5.1
    - r-xts >=0.12_0
    - r-zoo >=1.8_0

test:
  commands:
    - $R -e "library('TSstudio')"           # [not win]
    - "\"%R%\" -e \"library('TSstudio')\""  # [win]


about:
  home: https://github.com/RamiKrispin/TSstudio
  license: MIT
  summary: Provides a set of tools for descriptive and predictive analysis of time series data.
    That includes functions for interactive visualization of time series objects and
    as well utility functions for automation time series forecasting.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE
extra:
  recipe-maintainers:
    - leej3
